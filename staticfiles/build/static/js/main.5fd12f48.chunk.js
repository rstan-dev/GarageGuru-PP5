(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{101:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(46),r=a.n(c),s=(a(101),a(63)),i=a.n(s),o=a(7),l=a(11),d=a(136),j=a(22),u=a(135),b=a(18),m=a.n(b),O=a(12),h=a(4),x=a(27),p=a(23),v=a.n(p);v.a.defaults.baseURL="/api",v.a.defaults.headers.post["Content-Type"]="multipart/form-data",v.a.defaults.withCredentials=!0;var f=v.a.create(),g=v.a.create(),_=a(57),C=a(5),N=a(91),y=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,a){var n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get(t.next);case 3:n=e.sent,c=n.data,a((function(e){return Object(C.a)(Object(C.a)({},e),{},{next:c.next,results:c.results.reduce((function(e,t){return e.some((function(e){return e.id===t.id}))?e:[].concat(Object(_.a)(e),[t])}),e.results)})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),w=function(e){var t=Object(N.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)},S=function(){localStorage.removeItem("refreshTokenTimestamp")},A=a(0),I=Object(n.createContext)(),k=Object(n.createContext)(),P=function(){return Object(n.useContext)(I)},B=function(){return Object(n.useContext)(k)},E=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(h.a)(a,2),r=c[0],s=c[1],i=Object(x.f)(),d=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/dj-rest-auth/user");case 3:t=e.sent,a=t.data,s(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(n.useMemo)((function(){f.interceptors.request.use(function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("refreshTokenTimestamp")){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),s((function(e){return e&&i.push("/login"),null})),S(),e.abrupt("return",t);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(a=t.response)||void 0===a?void 0:a.status)){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&i.push("/login"),null})),S();case 10:return e.abrupt("return",v()(t.config));case 11:return e.abrupt("return",Promise.reject(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[i]),Object(A.jsx)(I.Provider,{value:r,children:Object(A.jsx)(k.Provider,{value:s,children:t})})},J=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&c(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[r]),{expanded:a,setExpanded:c,ref:r}},F=function(){var e=P(),t=B(),a=e?e.pk:null,n=J(),c=n.expanded,r=n.setExpanded,s=n.ref,i=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/dj-rest-auth/logout/");case 3:t(null),S(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(O.c,{to:"/jobs/addjob",className:"".concat(m.a.NavLinks," ").concat(m.a.AddJobIcon),activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-plus","aria-label":"add job"}),Object(A.jsx)("span",{className:m.a.Label,children:"Add Job"})]}),Object(A.jsxs)(O.c,{exact:!0,to:"/",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-car","aria-label":"all jobs"}),Object(A.jsx)("span",{className:m.a.Label,children:"All Jobs"})]}),Object(A.jsxs)(O.c,{to:"/myjobs",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-clipboard-list","aria-label":"my jobs"}),Object(A.jsx)("span",{className:m.a.Label,children:"My Jobs"})]}),Object(A.jsxs)(O.c,{to:"/assigned",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-people-group","aria-label":"assigned jobs"}),Object(A.jsx)("span",{className:m.a.Label,children:"Assigned"})]}),Object(A.jsxs)(O.c,{to:"/watched",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-eye","aria-label":"watched jobs"}),Object(A.jsx)("span",{className:m.a.Label,children:"Watching"})]}),Object(A.jsxs)(O.c,{to:"/all-invoices",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-cash-register","aria-label":"all invoices"}),Object(A.jsx)("span",{className:m.a.Label,children:"Invoices"})]}),Object(A.jsxs)(O.c,{to:"/login",className:m.a.NavLinks,activeClassName:m.a.Active,onClick:i,children:[Object(A.jsx)("i",{className:"fa-solid fa-power-off","aria-label":"logout"}),Object(A.jsx)("span",{className:m.a.Label,children:"Logout"})]}),Object(A.jsxs)(O.c,{to:"/profile/".concat(a),className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-user","aria-label":"register"}),Object(A.jsx)("span",{className:m.a.Label,children:"Profile"}),Object(A.jsxs)("span",{className:m.a.Username,children:["Welcome: ",null===e||void 0===e?void 0:e.username]})]})]}),h=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(O.c,{to:"/login",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-right-to-bracket","aria-label":"login"}),Object(A.jsx)("span",{className:m.a.Label,children:"Login"})]}),Object(A.jsxs)(O.c,{to:"/register",className:m.a.NavLinks,activeClassName:m.a.Active,children:[Object(A.jsx)("i",{className:"fa-solid fa-user-plus","aria-label":"register"}),Object(A.jsx)("span",{className:m.a.Label,children:"Register"})]})]});return Object(A.jsx)(d.a,{className:m.a.NavBar,expand:"lg",fixed:"top",expanded:c,children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(O.c,{to:"/",children:Object(A.jsx)(d.a.Brand,{children:Object(A.jsx)("img",{src:"data:image/jpeg;base64,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",alt:"logo",height:"50"})})}),Object(A.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav",ref:s,onClick:function(){return r(!c)},className:"bg-light"}),Object(A.jsx)(d.a.Collapse,{className:m.a.NavbarCollapse,id:"basic-navbar-nav",children:Object(A.jsx)(u.a,{className:"ml-auto",children:e?b:h})})]})})},U=function(){return Object(A.jsxs)("div",{className:"container text-center",children:[Object(A.jsxs)("h1",{className:"display-4 mt-5",children:["404 Error",Object(A.jsx)("br",{}),"Page Not Found"]}),Object(A.jsx)("p",{className:"lead",children:"Sorry, the page you are looking for does not exist."}),Object(A.jsx)("a",{href:"/",className:"btn btn-primary",children:"Back to All Jobs"})]})},D=a(30),L=a(13),R=a(2),T=a(9),M=a(21),q=function(e){var t=e.message,a=e.variant,c=e.timeout,r=Object(n.useState)(!0),s=Object(h.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){return o(!1)}),c||5e3);return function(){return clearTimeout(e)}}),[c]),i?Object(A.jsx)(M.a,{variant:a,children:t}):null},Q=a(15),G=a(28),K=a(24),V=a.n(K);var H=function(){var e,t,a,c=B(),r=Object(n.useState)({username:"",password:""}),s=Object(h.a)(r,2),i=s[0],d=s[1],u=i.username,b=i.password,m=Object(n.useState)({}),p=Object(h.a)(m,2),f=p[0],g=p[1],_=Object(n.useState)(0),N=Object(h.a)(_,2),y=N[0],S=N[1],I=Object(x.f)(),k=function(e){d(Object(C.a)(Object(C.a)({},i),{},Object(D.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},u&&"Enter your username"!==u||(a.username=["Please enter your username..."]),b&&"Enter Password"!==b||(a.password=["Please enter your password..."]),!(Object.keys(a).length>0)){e.next=8;break}return S((function(e){return e+1})),g(a),e.abrupt("return");case 8:return e.prev=8,e.next=11,v.a.post("/dj-rest-auth/login/",i);case 11:n=e.sent,r=n.data,c(r.user),w(r),I.push("/"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),g({message:["There was an error submitting the form."]});case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(j.a,{className:V.a.LoginRegisterForm,children:Object(A.jsx)(L.a,{xs:12,sm:12,md:8,lg:6,xl:6,className:"mx-auto",children:Object(A.jsx)("div",{className:V.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:V.a.FormCard,children:[Object(A.jsxs)("div",{className:"d-flex flex-column align-items-center ".concat(V.a.Intro),children:[Object(A.jsxs)("h1",{children:[Object(A.jsx)("i",{className:"fa-solid fa-right-to-bracket ".concat(V.a.LoginRegisterIcon),"aria-hidden":"true"}),"Login"]}),Object(A.jsx)("p",{children:"Welcome to GarageGuru, the dynamic job card management app."}),Object(A.jsx)("p",{children:"Manage, Monitor, & Assign jobs Effortlessly..."})]}),Object(A.jsxs)(R.a,{onSubmit:P,children:[Object(A.jsxs)(R.a.Group,{controlId:"username",children:[Object(A.jsx)(R.a.Label,{children:"Username"}),Object(A.jsx)(R.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:u,onChange:k,className:V.a.FormControl})]}),Object(A.jsx)("div",{children:null===(e=f.username)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"username-errors-".concat(y)),Object(A.jsxs)(R.a.Group,{controlId:"password",children:[Object(A.jsx)(R.a.Label,{children:"Password"}),Object(A.jsx)(R.a.Control,{type:"password",placeholder:"Enter Password",name:"password",value:b,onChange:k,className:V.a.FormControl,autoComplete:"off"})]}),Object(A.jsx)("div",{children:null===(t=f.password)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"password-errors-".concat(y)),Object(A.jsx)(G.a,{className:"justify-content-center",children:Object(A.jsx)(L.a,{md:"12",className:V.a.BtnContainer,children:Object(A.jsx)("div",{className:V.a.FullWidthLink,children:Object(A.jsx)(T.a,{variant:"primary",type:"submit",size:"lg",block:!0,children:"Log In"})})})}),null===(a=f.non_field_errors)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(M.a,{variant:"warning",className:"mt-3",children:e},t)})),Object(A.jsx)("div",{className:"d-flex flex-column align-items-center ".concat(V.a.LoginRegisterSection),children:Object(A.jsx)(O.b,{to:"/register",children:Object(A.jsxs)("p",{children:["Don't have an account?",Object(A.jsx)("br",{}),"Click here to register"]})})})]})]})})})})};var W=function(){var e,t,a,c,r=Object(n.useState)({username:"",password1:"",password2:""}),s=Object(h.a)(r,2),i=s[0],d=s[1],u=i.username,b=i.password1,m=i.password2,p=Object(n.useState)({}),f=Object(h.a)(p,2),g=f[0],_=f[1],N=Object(n.useState)(0),y=Object(h.a)(N,2),w=y[0],S=y[1],I=Object(n.useState)(""),k=Object(h.a)(I,2),P=k[0],B=k[1],E=Object(x.f)(),J=function(e){d(Object(C.a)(Object(C.a)({},i),{},Object(D.a)({},e.target.name,e.target.value)))},F=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},u&&"Enter a username"!==u||(a.username=["Please choose a username..."]),b&&"Enter a password at least 8 characters"!==b||(a.password1=["Please choose a password..."]),m&&"Re-enter the same password"!==m||(a.password2=["Please confirm using the same password..."]),!(Object.keys(a).length>0)){e.next=9;break}return S((function(e){return e+1})),_(a),e.abrupt("return");case 9:return e.prev=9,e.next=12,v.a.post("dj-rest-auth/registration/",i);case 12:B("Congratulations you have successfully registered to GarageGuru.  You will be redirected to the login page shortly"),setTimeout((function(){B(""),E.push("/login")}),2500),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),_(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(j.a,{className:V.a.LoginRegisterForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:8,lg:6,xl:6,className:"mx-auto",children:[P&&Object(A.jsx)(M.a,{className:V.a.SuccessMessage,variant:"success",children:P}),Object(A.jsx)("div",{className:V.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:V.a.FormCard,children:[Object(A.jsxs)("div",{className:"d-flex flex-column align-items-center ".concat(V.a.Intro),children:[Object(A.jsxs)("h1",{children:[Object(A.jsx)("i",{className:"fa-solid fa-solid fa-user-plus ".concat(V.a.LoginRegisterIcon),"aria-hidden":"true"}),"Register for an Account"]}),Object(A.jsx)("p",{children:"Sign up to GarageGuru, the dynamic job card management app."})]}),Object(A.jsxs)(R.a,{onSubmit:F,children:[Object(A.jsxs)(R.a.Group,{controlId:"username",children:[Object(A.jsx)(R.a.Label,{children:"Username"}),Object(A.jsx)(R.a.Control,{type:"text",placeholder:"Enter a username",name:"username",value:u,onChange:J,className:V.a.FormControl})]}),Object(A.jsx)("div",{children:null===(e=g.username)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"username-errors-".concat(w)),Object(A.jsxs)(R.a.Group,{controlId:"password1",children:[Object(A.jsx)(R.a.Label,{children:"Choose Password"}),Object(A.jsx)(R.a.Control,{type:"password",placeholder:"Enter a password at least 8 characters",name:"password1",value:b,onChange:J,className:V.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=g.password1)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"password1-errors-".concat(w)),Object(A.jsxs)(R.a.Group,{controlId:"password2",children:[Object(A.jsx)(R.a.Label,{children:"Confirm Password"}),Object(A.jsx)(R.a.Control,{type:"password",placeholder:"Re-enter the same password",name:"password2",value:m,onChange:J,className:V.a.FormControl})]}),Object(A.jsx)("div",{children:null===(a=g.password2)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"password2-errors-".concat(w)),Object(A.jsx)(G.a,{className:"justify-content-center",children:Object(A.jsx)(L.a,{md:"12",className:V.a.BtnContainer,children:Object(A.jsx)("div",{className:V.a.FullWidthLink,children:Object(A.jsx)(T.a,{variant:"primary",type:"submit",size:"lg",block:!0,children:"Register"})})})}),null===(c=g.non_field_errors)||void 0===c?void 0:c.map((function(e,t){return Object(A.jsx)(M.a,{variant:"warning",className:"mt-3",children:e},t)})),Object(A.jsx)("div",{className:"d-flex flex-column align-items-center ".concat(V.a.LoginRegisterSection),children:Object(A.jsx)(O.b,{to:"/login",children:Object(A.jsxs)("p",{children:["Already have an account?",Object(A.jsx)("br",{}),"Click here to log in"]})})})]})]})})]})})},Y=a(43),z=a(45),X=a.n(z),Z=function(){var e=P(),t=e?e.pk:null,a=Object(x.h)().id,c=Object(n.useState)({owner:"",name:"",bio:"",image:"",display_created_at:"",display_updated_at:"",is_owner:!1}),r=Object(h.a)(c,2),s=r[0],i=r[1],d=s.owner,u=s.name,b=s.bio,m=s.image,p=s.display_created_at,v=s.display_updated_at,g=s.is_owner,_=Object(x.f)();return Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var n,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/profiles/".concat(a,"/"));case 3:n=t.sent,c=n.data,e&&i(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),_.push("/404-error-page");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[t,e,_,a]),Object(A.jsx)(j.a,{className:X.a.ProfileForm,children:Object(A.jsx)(L.a,{xs:12,sm:12,md:8,lg:8,xl:8,className:"mx-auto",children:Object(A.jsx)("div",{className:X.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:X.a.FormCard,children:[Object(A.jsx)("div",{className:"d-flex flex-column align-items-center",children:Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-user ".concat(X.a.ProfileIcon),"aria-hidden":"true"}),"Profile Page for ",d]})}),Object(A.jsx)(Q.a,{className:X.a.ImageContainer,children:Object(A.jsx)(Y.a,{src:m,alt:"Profile",fluid:!0,className:X.a.ProfileImage})}),Object(A.jsx)("table",{className:"table table-striped",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-id-card-clip","aria-hidden":"true"}),"Name:"]}),Object(A.jsx)("td",{children:u})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-info","aria-hidden":"true"}),"Bio:"]}),Object(A.jsx)("td",{children:b})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-calendar-days","aria-hidden":"true"}),"Staff member since:"]}),Object(A.jsx)("td",{children:p})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-calendar-plus","aria-hidden":"true"}),"Profile last updated:"]}),Object(A.jsx)("td",{children:v})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-hashtag","aria-hidden":"true"}),"User ID:"]}),Object(A.jsx)("td",{children:a})]})]})}),g?Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:X.a.BtnContainer,children:Object(A.jsx)(O.b,{to:"/profile/".concat(a,"/edit-profile"),children:Object(A.jsx)(T.a,{variant:"primary",children:"Edit Profile"})})}),Object(A.jsx)(L.a,{md:"auto",className:X.a.BtnContainer,children:Object(A.jsx)(O.b,{to:"/profile/".concat(a,"/change-username"),children:Object(A.jsx)(T.a,{variant:"warning",children:"Edit Username"})})}),Object(A.jsx)(L.a,{md:"auto",className:X.a.BtnContainer,children:Object(A.jsx)(O.b,{to:"/profile/".concat(a,"/change-password"),children:Object(A.jsx)(T.a,{variant:"danger",children:"Edit Password"})})})]})}):null]})})})})},$=a(40),ee=a.n($),te=a(134),ae=a(80),ne=a.n(ae),ce=function(e){var t=e.showModal,a=e.handleClose,n=e.handleConfirm,c=e.title,r=e.body;return Object(A.jsxs)(te.a,{show:t,onHide:a,className:ne.a.CenteredModal,centered:!0,children:[Object(A.jsx)(te.a.Header,{closeButton:!0,children:Object(A.jsx)(te.a.Title,{className:ne.a.ModalTitle,children:c})}),Object(A.jsx)(te.a.Body,{children:r}),Object(A.jsxs)(te.a.Footer,{children:[Object(A.jsx)(T.a,{variant:"outline-warning",size:"sm",onClick:a,children:"Cancel"}),Object(A.jsx)(T.a,{variant:"outline-success",size:"sm",onClick:n,children:"Confirm"})]})]})},re=function(){var e,t,a,c=P(),r=B(),s=c?c.pk:null,i=Object(x.h)().id,d=Object(n.useState)({name:"",bio:"",image:""}),u=Object(h.a)(d,2),b=u[0],m=u[1],p=b.name,v=b.bio,g=b.image,_=Object(n.useState)({}),N=Object(h.a)(_,2),y=N[0],w=N[1],S=Object(n.useState)(0),I=Object(h.a)(S,2),k=I[0],E=I[1],J=Object(n.useState)(""),F=Object(h.a)(J,2),U=F[0],K=F[1],V=Object(n.useState)(!1),H=Object(h.a)(V,2),W=H[0],z=H[1],X=Object(n.useState)({title:"",body:"",confirmAction:function(){}}),Z=Object(h.a)(X,2),$=Z[0],te=Z[1],ae=Object(x.f)(),ne=Object(n.useRef)();Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var a,n,c,r,s,l;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/profiles/".concat(i,"/"));case 3:a=t.sent,n=a.data,c=n.name,r=n.bio,s=n.image,e&&m({name:c,bio:r,image:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),401===(null===(l=t.t0.response)||void 0===l?void 0:l.status)?ae.push("/login"):ae.push("/");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return c&&s===parseInt(i)||ae.push("/"),t(),function(){e=!1}}),[s,c,ae,i]);var re=function(e){m(Object(C.a)(Object(C.a)({},b),{},Object(D.a)({},e.target.name,e.target.value)))},se=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n,c,s,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("name",p),n.append("bio",v),null!==ne&&void 0!==ne&&null!==(a=ne.current)&&void 0!==a&&a.files[0]&&n.append("image",null===ne||void 0===ne||null===(c=ne.current)||void 0===c?void 0:c.files[0]),e.prev=4,e.next=7,f.put("/profiles/".concat(i,"/"),n);case 7:s=e.sent,l=s.data,r((function(e){return Object(C.a)(Object(C.a)({},e),{},{profile_image:l.image})})),K("Profile updated successfully"),setTimeout((function(){K(""),ae.goBack()}),2500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),null!==(d=e.t0.response)&&void 0!==d&&d.data&&(w(e.t0.response.data),E((function(e){return e+1})));case 17:z(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(j.a,{className:ee.a.EditProfileForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:8,lg:8,xl:8,className:"mx-auto",children:[U&&Object(A.jsx)(M.a,{className:ee.a.SuccessMessage,variant:"success",children:U}),Object(A.jsx)("div",{className:ee.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:ee.a.FormCard,children:[Object(A.jsx)("div",{className:"d-flex flex-column align-items-center ".concat(ee.a.Intro),children:Object(A.jsxs)("h1",{children:[Object(A.jsx)("i",{className:"fa-solid fa-pencil ".concat(ee.a.EditProfileIcon),"aria-hidden":"true",children:" "}),"Edit Profile Page"]})}),Object(A.jsxs)(R.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(A.jsx)(Q.a,{className:ee.a.ImageUploadContainer,children:Object(A.jsxs)(R.a.Group,{className:"text-center",children:[g&&Object(A.jsx)("figure",{children:Object(A.jsx)(Y.a,{src:g,fluid:!0,alt:"Profile"})}),Object(A.jsx)("div",{children:null===(e=y.image)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"image-errors-".concat(k)),Object(A.jsx)("div",{children:Object(A.jsx)(R.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(A.jsxs)("div",{className:ee.a.UploadIcon,children:[Object(A.jsx)("i",{className:"fas fa-upload","aria-hidden":"true"}),"Change Profile Image"]})})}),Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(R.a.File,{id:"image-upload",ref:ne,accept:"image/*",onChange:function(e){e.target.files.length&&m(Object(C.a)(Object(C.a)({},b),{},{image:URL.createObjectURL(e.target.files[0])}))}})})]})}),Object(A.jsxs)(R.a.Group,{controlId:"name",children:[Object(A.jsx)(R.a.Label,{children:"Update Name"}),Object(A.jsx)(R.a.Control,{as:"input",type:"text",name:"name",placeholder:"enter your name",value:p,onChange:re,className:ee.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=y.name)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"name-errors-".concat(k)),Object(A.jsxs)(R.a.Group,{controlId:"bio",children:[Object(A.jsx)(R.a.Label,{children:"Update Bio"}),Object(A.jsx)(R.a.Control,{as:"textarea",name:"bio",placeholder:"enter something about yourself",value:v,rows:4,onChange:re,className:ee.a.FormControl})]}),Object(A.jsx)("div",{children:null===(a=y.bio)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"bio-errors-".concat(k)),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:ee.a.BtnContainer,children:Object(A.jsx)(O.b,{to:"/profile/".concat(i),children:Object(A.jsx)(T.a,{variant:"warning",children:"Cancel"})})}),Object(A.jsx)(L.a,{md:"auto",className:ee.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"success",onClick:function(e){e.preventDefault();var t={};if(p&&"enter your name"!==p||(t.name=["Please enter your name..."]),v&&"enter something about yourself"!==v||(t.bio=["Please enter a few words about yourself..."]),Object.keys(t).length>0)return E((function(e){return e+1})),void w(t);te({title:"Confirm Profile Update",body:"Are you sure you want to update your profile?",confirmAction:se}),z(!0)},children:"Update Profile"})})]})]}),Object(A.jsx)(ce,{showModal:W,handleClose:function(){z(!1)},handleConfirm:function(){$.confirmAction()},title:$.title,body:$.body})]})})]})})},se=a(33),ie=a.n(se),oe=function(){var e,t,a=P(),c=a?a.pk:null,r=Object(x.h)().id,s=Object(n.useState)({new_password1:"",new_password2:""}),i=Object(h.a)(s,2),d=i[0],u=i[1],b=d.new_password1,m=d.new_password2,O=Object(n.useState)({}),p=Object(h.a)(O,2),v=p[0],f=p[1],_=Object(n.useState)(0),N=Object(h.a)(_,2),y=N[0],w=N[1],S=Object(n.useState)(""),I=Object(h.a)(S,2),k=I[0],B=I[1],E=Object(x.f)(),J=function(e){u(Object(C.a)(Object(C.a)({},d),{},Object(D.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){c!==parseInt(r)&&E.push("/")}),[a,E,c,r]);var F=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},b&&"choose a new password"!==b||(a.new_password1=["Please choose a new password..."]),m&&"confirm new password"!==m||(a.new_password2=["Please confirm using the same password..."]),!(Object.keys(a).length>0)){e.next=8;break}return w((function(e){return e+1})),f(a),e.abrupt("return");case 8:return e.prev=8,e.next=11,g.post("/dj-rest-auth/password/change/",d);case 11:B("Password updated successfully"),setTimeout((function(){B(""),E.goBack()}),2500),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),f(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(j.a,{className:ie.a.ProfileForm,children:Object(A.jsx)(L.a,{xs:12,sm:12,md:8,lg:8,xl:8,className:"mx-auto",children:Object(A.jsxs)("div",{className:ie.a.CardBlock,children:[k&&Object(A.jsx)(M.a,{variant:"success",children:k}),Object(A.jsxs)(Q.a,{className:ie.a.FormCard,children:[Object(A.jsx)("div",{className:"d-flex flex-column align-items-center",children:Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-pencil ".concat(ie.a.EditIcon),"aria-hidden":"true"}),"Change Password"]})}),Object(A.jsxs)(R.a,{onSubmit:F,children:[Object(A.jsxs)(R.a.Group,{children:[Object(A.jsx)(R.a.Label,{children:"Update password"}),Object(A.jsx)(R.a.Control,{placeholder:"choose a new password",type:"password",name:"new_password1",value:b,onChange:J,className:ie.a.FormControl})]}),Object(A.jsx)("div",{children:null===(e=v.new_password1)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"new_password1-errors-".concat(y)),Object(A.jsxs)(R.a.Group,{children:[Object(A.jsx)(R.a.Label,{children:"Confirm password"}),Object(A.jsx)(R.a.Control,{placeholder:"confirm new password",type:"password",name:"new_password2",value:m,onChange:J,className:ie.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=v.new_password2)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"new_password2-errors-".concat(y)),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:ie.a.BtnContainer,children:Object(A.jsx)(T.a,{onClick:function(){return E.goBack()},variant:"warning",children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:ie.a.BtnContainer,children:Object(A.jsx)(T.a,{type:"submit",variant:"success",children:"Update Password"})})]})]})]})]})})})},le=function(){var e,t=P(),a=t?t.pk:null,c=Object(x.h)().id,r=B(),s=Object(n.useState)(""),i=Object(h.a)(s,2),d=i[0],u=i[1],b=Object(n.useState)({}),m=Object(h.a)(b,2),O=m[0],p=m[1],v=Object(n.useState)(0),f=Object(h.a)(v,2),_=f[0],N=f[1],y=Object(n.useState)(""),w=Object(h.a)(y,2),S=w[0],I=w[1],k=Object(x.f)();Object(n.useEffect)((function(){a!==parseInt(c)?k.push("/"):u(t.username)}),[t,k,a,c]);var E=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},d&&"Enter your username"!==d||(a.username=["choose a new username"]),!(Object.keys(a).length>0)){e.next=7;break}return N((function(e){return e+1})),p(a),e.abrupt("return");case 7:return e.prev=7,e.next=10,g.put("/dj-rest-auth/user/",{username:d});case 10:r((function(e){return Object(C.a)(Object(C.a)({},e),{},{username:d})})),I("Username updated successfully"),setTimeout((function(){I(""),k.goBack()}),2500),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),p(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(j.a,{className:ie.a.ProfileForm,children:Object(A.jsx)(L.a,{xs:12,sm:12,md:8,lg:8,xl:8,className:"mx-auto",children:Object(A.jsxs)("div",{className:ie.a.CardBlock,children:[S&&Object(A.jsx)(M.a,{variant:"success",children:S}),Object(A.jsxs)(Q.a,{className:ie.a.FormCard,children:[Object(A.jsx)("div",{className:"d-flex flex-column align-items-center",children:Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-pencil ".concat(ie.a.EditIcon),"aria-hidden":"true"}),"Change Username"]})}),Object(A.jsxs)(R.a,{onSubmit:E,children:[Object(A.jsxs)(R.a.Group,{children:[Object(A.jsx)(R.a.Label,{children:"Update username"}),Object(A.jsx)(R.a.Control,{placeholder:"choose a new username",type:"text",value:d,onChange:function(e){u(e.target.value)},className:ie.a.FormControl})]}),Object(A.jsx)("div",{children:null===(e=O.username)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},_),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:ie.a.BtnContainer,children:Object(A.jsx)(T.a,{onClick:function(){return k.goBack()},variant:"warning",children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:ie.a.BtnContainer,children:Object(A.jsx)(T.a,{type:"submit",variant:"success",children:"Update Username"})})]})]})]})]})})})},de=a(19),je=a.n(de);var ue=function(){var e,t,a,c,r,s,i=P(),d=Object(n.useState)([]),u=Object(h.a)(d,2),b=u[0],m=u[1],O=Object(n.useRef)(!0),p=Object(n.useState)({job_type:"",job_details:"",image:"",due_date:"",assigned_to:"",status:"Pending"}),g=Object(h.a)(p,2),_=g[0],N=g[1],y=_.job_type,w=_.job_details,S=_.image,I=_.due_date,k=_.assigned_to,B=_.status,E=Object(n.useState)({}),J=Object(h.a)(E,2),F=J[0],U=J[1],K=Object(n.useState)(0),V=Object(h.a)(K,2),H=V[0],W=V[1],z=Object(n.useState)(""),X=Object(h.a)(z,2),Z=X[0],$=X[1],ee=Object(n.useRef)(),te=Object(n.useRef)(),ae=Object(x.f)();Object(n.useEffect)((function(){return i&&i.pk&&N((function(e){return Object(C.a)(Object(C.a)({},e),{},{assigned_to:i.pk})})),function(){O.current=!1}}),[i,ae]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/profiles/");case 3:t=e.sent,a=t.data,O.current&&m(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){O.current=!1}}),[]);var ne=function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)};Object(n.useEffect)((function(){var e=ne();N((function(t){return Object(C.a)(Object(C.a)({},t),{},{due_date:e})}))}),[]);var ce=function(e){N(Object(C.a)(Object(C.a)({},_),{},Object(D.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){return function(){ee.current&&clearTimeout(ee.current)}}),[]);var re=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n,c,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},y&&"Choose Job Type"!==y||(a.job_type=["Job Type is Required. Please select a job type..."]),w&&"Enter some details about the vehicle and the job here..."!==w||(a.job_details=["Please enter some details about the vehicle and the job"]),I||(a.due_date=["Due Date is required. Please select a due date..."]),k&&""!==k||(a.assigned_to=["Please assign this job to a user..."]),B&&""!==B||(a.assigned_to=["Please select a status for this job..."]),!(Object.keys(a).length>0)){e.next=11;break}return W((function(e){return e+1})),U(a),e.abrupt("return");case 11:return(n=new FormData).append("job_type",y),n.append("job_details",w),n.append("due_date",I),n.append("assigned_to",k),n.append("status",B),te.current&&te.current.files[0]&&n.append("image",te.current.files[0]),e.prev=18,e.next=21,f.post("/jobs/",n);case 21:c=e.sent,r=c.data,O.current&&($("Job has been added successfully"),ee.current=setTimeout((function(){O.current&&($(""),ae.push("/jobs/".concat(r.id)))}),2500)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(18),v.a.isAxiosError(e.t0)&&e.t0.response?401!==e.t0.response.status&&U(e.t0.response.data):(console.error(e.t0),U({message:["There was an error submitting the form."]})),W((function(e){return e+1}));case 30:case"end":return e.stop()}}),e,null,[[18,26]])})));return function(t){return e.apply(this,arguments)}}(),se=Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)(R.a.Group,{controlId:"job_type",children:[Object(A.jsx)(R.a.Label,{children:"Job Type: (required)"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"job_type",value:y,onChange:ce,required:!0,className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Choose Job Type"}),Object(A.jsx)("option",{value:"Major Service",children:"Major Service"}),Object(A.jsx)("option",{value:"Minor Service",children:"Minor Service"}),Object(A.jsx)("option",{value:"MOT",children:"MOT"}),Object(A.jsx)("option",{value:"Tyre Change",children:"Tyre Change"})]})]}),Object(A.jsx)("div",{children:null===(e=F.job_type)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"job_type-errors-".concat(H)),Object(A.jsxs)(R.a.Group,{controlId:"job_details",children:[Object(A.jsx)(R.a.Label,{children:"Job Details:"}),Object(A.jsx)(R.a.Control,{as:"textarea",name:"job_details",placeholder:"Enter some details about the vehicle and the job here...",rows:2,value:w,onChange:ce,className:je.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=F.job_details)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"job_details-errors-".concat(H)),Object(A.jsxs)(R.a.Group,{controlId:"assigned_to",children:[Object(A.jsx)(R.a.Label,{children:"Assigned to:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"assigned_to",value:k,onChange:ce,required:!0,className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Choose a user"}),b.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.owner},e.id)}))]})]}),Object(A.jsx)("div",{children:null===(a=F.assigned_to)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"assigned_to-errors-".concat(H)),Object(A.jsxs)(R.a.Group,{controlId:"due_date",children:[Object(A.jsx)(R.a.Label,{children:"Due Date:"}),Object(A.jsx)(R.a.Control,{type:"date",name:"due_date",value:I,onChange:ce,min:ne(),className:je.a.FormControl})]}),Object(A.jsx)("div",{children:null===(c=F.due_date)||void 0===c?void 0:c.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"due_date-errors-".concat(H)),Object(A.jsxs)(R.a.Group,{controlId:"status",children:[Object(A.jsx)(R.a.Label,{children:"Status:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"status",value:B,onChange:ce,className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Select status"}),Object(A.jsx)("option",{value:"Pending",children:"Pending"}),Object(A.jsx)("option",{value:"Underway",children:"Underway"}),Object(A.jsx)("option",{value:"Completed",children:"Completed"}),Object(A.jsx)("option",{value:"Overdue",children:"Overdue"})]})]}),Object(A.jsx)("div",{children:null===(r=F.status)||void 0===r?void 0:r.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"status-errors-".concat(H))]});return Object(A.jsx)(j.a,{className:je.a.AddEditJobForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:8,xl:6,className:"mx-auto",children:[Z&&Object(A.jsx)(M.a,{className:je.a.SuccessMessage,variant:"success",children:Z}),Object(A.jsx)("div",{className:je.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:je.a.FormCard,children:[Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-plus ".concat(je.a.AddJobIcon),"aria-hidden":"true",children:" "}),"Add Job Form"]}),Object(A.jsxs)(R.a,{onSubmit:re,children:[Object(A.jsxs)("div",{children:[se,Object(A.jsx)(Q.a,{children:Object(A.jsxs)(R.a.Group,{className:"text-center",children:[S?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("figure",{children:Object(A.jsx)(Y.a,{className:je.a.Image,src:S,rounded:!0,alt:"Job Image"})}),Object(A.jsx)("div",{children:null===(s=F.image)||void 0===s?void 0:s.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"image-errors-".concat(H)),Object(A.jsx)("div",{children:Object(A.jsx)(R.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(A.jsx)("p",{children:"Change image"})})})]}):Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(R.a.Label,{className:"d-flex align-items-center".concat(je.a.ImageUploadContainer),htmlFor:"image-upload",children:Object(A.jsxs)("div",{className:je.a.UploadIcon,children:[Object(A.jsx)("i",{className:"fa-solid fa-arrow-up-from-bracket","aria-hidden":"true"}),Object(A.jsx)("p",{children:"Upload an image"})]})})}),Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(R.a.File,{id:"image-upload",accept:"image/*",ref:te,onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(S),N(Object(C.a)(Object(C.a)({},_),{},{image:URL.createObjectURL(e.target.files[0])})))},className:je.a.ImageUpload})})]})})]}),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:je.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"warning",onClick:function(){return ae.goBack()},children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:je.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"success",type:"submit",children:"Add Job"})})]})]})]})})]})})},be=a(41),me=a(29),Oe=a.n(me),he=function(e){var t=e.id,a=e.owner,c=e.owner_id,r=e.job_type,s=e.job_details,i=e.created_at,d=e.updated_at,j=e.due_date,u=e.assigned_to,b=e.status,m=e.image,p=e.has_invoice,v=e.comment_count,_=e.invoice_details,N=e.watch_id,y=e.setJobs,w=e.jobs,S=e.onUnwatch,I=e.commentsCount,k=e.onWatchStatusChange,B=e.shouldRemoveOnUnwatch,E=_||{},J=E.inv_id,F=E.customer_firstname,U=E.customer_lastname,D=E.amount,L=E.invoice_status,R=P(),M=(null===R||void 0===R?void 0:R.username)===a,q=Object(n.useState)(),G=Object(h.a)(q,2),K=G[0],V=G[1];Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=10;break}return t.prev=1,t.next=4,f.get("/profiles/".concat(u,"/"));case 4:a=t.sent,e&&V(a.data.owner),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[u]);var H=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/watchers/",{job:t});case 3:a=e.sent,n=a.data,"function"===typeof y?y((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{watch_id:n.id}):e}))})})):k(n.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/watchers/".concat(N,"/"));case 3:B?S():"function"===typeof y?y((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{watch_id:null}):e}))})})):k(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y(w);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){return Object(A.jsx)("div",{className:"text-right",children:M?Object(A.jsx)(O.b,{to:"/jobs/".concat(t,"/edit-job"),children:Object(A.jsx)(T.a,{variant:"primary",children:"Edit Job Card"})}):Object(A.jsxs)(T.a,{variant:"outline-secondary",disabled:!0,size:"sm",children:[Object(A.jsx)("div",{className:Oe.a.DisabledJobEditButton,children:"Editing unavailable."}),Object(A.jsx)("div",{className:Oe.a.DisabledJobEditButton,children:"Only ".concat(a," can edit this job")})]})})},z=function(){return Object(A.jsx)(Q.a.Img,{src:m,alt:r,className:Oe.a.JobImage})},X=function(){var e=I||v,a=Object(x.g)(),n="/jobs/".concat(t),c=a.pathname===n,r=function(t){var a=t.isActive;return Object(A.jsxs)("div",{className:a?Oe.a.CommentBubbleActive:Oe.a.CommentBubbleGrey,children:[Object(A.jsx)("i",{className:"fa-regular fa-comment","aria-hidden":"true"}),Object(A.jsx)("span",{children:a?"".concat(e," commenting"):"leave a comment"})]})};return Object(A.jsx)(A.Fragment,{children:c?Object(A.jsx)(r,{isActive:e>0}):Object(A.jsx)(O.b,{to:n,children:Object(A.jsx)(r,{isActive:e>0})})})},Z=function(){return Object(A.jsx)(A.Fragment,{children:N?Object(A.jsx)("div",{className:"".concat(Oe.a.EyeWatched),onClick:W,children:Object(A.jsx)("i",{className:"fa-regular fa-eye","aria-hidden":"true"})}):Object(A.jsx)("div",{className:"".concat(Oe.a.EyeUnwatched),onClick:H,children:Object(A.jsx)("i",{className:"fa-regular fa-eye","aria-hidden":"true"})})})},$=function(){return Object(A.jsx)(A.Fragment,{children:p||!M&&u!==R.pk?Object(A.jsx)("div",{children:Object(A.jsxs)(T.a,{variant:"outline-secondary",disabled:!0,siz:"lg",block:!0,children:[Object(A.jsx)("div",{className:Oe.a.DisabledButton,children:"No invoice to display."}),Object(A.jsx)("div",{className:Oe.a.DisabledButton,children:"Only ".concat(a," or ").concat(K," can add an invoice")})]})}):Object(A.jsx)(O.b,{to:{pathname:"/invoices/addinvoice",state:{jobId:t}},children:Object(A.jsx)(T.a,{variant:"primary",size:"lg",block:!0,children:"Add Invoice"})})})},ee=function(){return Object(A.jsx)(A.Fragment,{children:p?Object(A.jsxs)("div",{className:Oe.a.InvoiceButtonContainer,children:[Object(A.jsx)(O.b,{to:"/invoices/".concat(J,"/"),children:Object(A.jsx)(T.a,{variant:"primary",children:"View Full Invoice"})}),(M||u===R.pk)&&Object(A.jsx)(O.b,{to:"/invoices/".concat(J,"/edit-invoice"),children:Object(A.jsx)(T.a,{variant:"primary",children:"Edit Invoice"})})]}):null})};return Object(A.jsx)("div",{className:Oe.a.CardBlock,children:Object(A.jsx)("div",{className:"card ".concat(Oe.a.JobCard),children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsxs)("div",{className:Oe.a.JobCardHeaderContainer,children:[Object(A.jsx)("p",{className:Oe.a.JobCardHeader,children:"JOBCARD"}),Object(A.jsx)(Y,{})]}),Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-md-8",children:[Object(A.jsx)("table",{className:"table table-striped",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-hashtag","aria-hidden":"true"}),"Job No:"]}),Object(A.jsx)("td",{children:t})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-wrench","aria-hidden":"true"}),"Job Type:"]}),Object(A.jsx)("td",{children:r})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-info","aria-hidden":"true"}),"Details:"]}),Object(A.jsx)("td",{children:s})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-user","aria-hidden":"true"}),"Created By:"]}),Object(A.jsx)("td",{children:Object(A.jsx)(O.b,{to:"/profile/".concat(c),children:a})})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-calendar-days","aria-hidden":"true"}),"Created on:"]}),Object(A.jsx)("td",{children:i})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-regular fa-calendar-plus","aria-hidden":"true"})," ","Updated on:"]}),Object(A.jsx)("td",{children:d})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-regular fa-calendar-check","aria-hidden":"true"}),"Due date:"]}),Object(A.jsx)("td",{children:j})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-regular fa-id-badge","aria-hidden":"true"}),"Assigned to:"]}),Object(A.jsx)("td",{children:Object(A.jsx)(O.b,{to:"/profile/".concat(u),children:K})})]}),Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-question","aria-hidden":"true"}),"Status:"]}),Object(A.jsx)("td",{children:b})]})]})}),Object(A.jsxs)("div",{className:Oe.a.CommentWatchContainer,children:[Object(A.jsx)(X,{}),Object(A.jsx)(Z,{})]}),p?Object(A.jsx)(be.a,{defaultActiveKey:"1",children:Object(A.jsxs)(Q.a,{children:[Object(A.jsx)(Q.a.Header,{children:Object(A.jsx)("div",{className:Oe.a.CenteredToggle,children:Object(A.jsx)(be.a.Toggle,{as:T.a,variant:"link",eventKey:"0",children:Object(A.jsx)("span",{className:Oe.a.ViewInvoiceLink,children:"Click To View Invoice Summary"})})})}),Object(A.jsx)(be.a.Collapse,{eventKey:"0",children:Object(A.jsxs)(Q.a.Body,{children:[Object(A.jsx)(ee,{}),Object(A.jsx)("table",{className:"table table-striped",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Invoice Number:"}),Object(A.jsx)("td",{children:J})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Customer:"}),Object(A.jsxs)("td",{children:[F," ",U]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Amount:"}),Object(A.jsxs)("td",{children:["\xa3",D]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Invoice Status:"}),Object(A.jsx)("td",{children:L})]})]})})]})})]})}):Object(A.jsx)("div",{className:Oe.a.AddInvoiceContainer,children:Object(A.jsx)($,{})})]}),Object(A.jsx)("div",{className:"col-md-4 d-none d-md-block text-center ".concat(Oe.a.JobImageContainer),children:Object(A.jsx)(z,{})}),Object(A.jsx)("div",{className:"col-12 d-md-none mt-3 text-center",children:Object(A.jsx)(z,{})})]})]})})})},xe=a(26),pe=a.n(xe);var ve=function(e){var t,a=e.job,c=e.setJob,r=e.setComments,s=e.setCommentsCount,i=e.profileImage,d=e.profileName,j=Object(n.useState)(""),u=Object(h.a)(j,2),b=u[0],m=u[1],O=Object(n.useState)(""),x=Object(h.a)(O,2),p=x[0],v=x[1],f=Object(n.useState)({}),N=Object(h.a)(f,2),y=N[0],w=N[1],S=Object(n.useState)(0),I=Object(h.a)(S,2),k=I[0],P=I[1],B=Object(n.useRef)(),E=Object(n.useRef)(!0),J=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={},b&&"add a comment..."!==b||(n.comment_detail=["A comment is required. Please add a comment."]),!(Object.keys(n).length>0)){e.next=7;break}return P((function(e){return e+1})),w(n),e.abrupt("return");case 7:return e.prev=7,e.next=10,g.post("/comments/",{comment_detail:b,job:a});case 10:i=e.sent,l=i.data,E.current&&(r((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:[l].concat(Object(_.a)(e.results))})})),s((function(e){return e+1})),c((function(e){return{results:[Object(C.a)({},e.results[0])]}})),v("Comment has been added successfully"),B.current=setTimeout((function(){v("")}),2500),m("")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),w({message:["There was an error submitting the form."]});case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[p&&Object(A.jsx)(M.a,{className:pe.a.SuccessMessage,variant:"success",children:p}),Object(A.jsx)("div",{className:"card",children:Object(A.jsx)("div",{className:"card-body ".concat(pe.a.CardBody),children:Object(A.jsx)("div",{className:pe.a.CommentArea,children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col ".concat(pe.a.ProfileSection),children:[Object(A.jsx)(Y.a,{className:pe.a.ProfileImage,src:i,alt:"Profile",fluid:!0}),Object(A.jsx)("p",{className:pe.a.ProfileName,children:d})]}),Object(A.jsx)("div",{className:"col-12 col-sm-10",children:Object(A.jsxs)(R.a,{onSubmit:J,children:[Object(A.jsx)(R.a.Group,{children:Object(A.jsx)(R.a.Control,{placeholder:"add a comment...",as:"textarea",value:b,onChange:function(e){m(e.target.value)},rows:2,className:pe.a.FormControl})}),Object(A.jsx)("div",{children:null===y||void 0===y||null===(t=y.comment_detail)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},k),Object(A.jsx)("div",{className:"text-right ".concat(pe.a.SubmitButton),children:Object(A.jsx)(T.a,{variant:"outline-success",type:"submit",size:"sm",children:"Add Comment"})})]})})]})})})})]})},fe=a(34),ge=a.n(fe),_e=function(e){var t,a=e.id,c=e.comment_detail,r=e.onEditComplete,s=e.setComments,i=e.setCommentsCount,d=e.isReply,j=e.parentCommentId,u=Object(n.useState)({}),b=Object(h.a)(u,2),m=b[0],O=b[1],x=Object(n.useState)(c),p=Object(h.a)(x,2),v=p[0],f=p[1],_=Object(n.useState)(!1),N=Object(h.a)(_,2),y=N[0],w=N[1],S=Object(n.useState)({title:"",body:"",confirmAction:function(){}}),I=Object(h.a)(S,2),k=I[0],P=I[1],B=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){B.current=!1}}),[]);var E=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.put("/comments/".concat(a,"/"),{comment_detail:v.trim()});case 4:B.current&&(s(d&&j?function(e){var t=e.results.map((function(e){if(e.id===j){var t=e.replies.map((function(e){return e.reply_id===a?Object(C.a)(Object(C.a)({},e),{},{reply_comment_detail:v.trim(),updated_at:"now"}):e}));return Object(C.a)(Object(C.a)({},e),{},{replies:t})}return e}));return Object(C.a)(Object(C.a)({},e),{},{results:t})}:function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===a?Object(C.a)(Object(C.a)({},e),{},{comment_detail:v.trim(),updated_at:"now"}):e}))})}),r()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),B.current&&O({message:["There was an error updating this comment."]});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.current&&(P({title:"Confirm Comment Deletion",body:"Are you sure you want to delete this comment? This action cannot be undone.",confirmAction:F}),w(!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/comments/".concat(a,"/"));case 3:B.current&&(s((function(e){return d&&j?Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===j?Object(C.a)(Object(C.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==a}))}):e}))}):Object(C.a)(Object(C.a)({},e),{},{results:e.results.filter((function(e){return e.id!==a}))})})),B.current&&(i((function(e){return e-1})),w(!1),r())),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),B.current&&O({message:["There was an error deleting the comment."]});case 9:B.current&&(w(!1),r());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(R.a,{onSubmit:E,children:[Object(A.jsx)(R.a.Group,{children:Object(A.jsx)(R.a.Control,{as:"textarea",value:v,onChange:function(e){f(e.target.value)},rows:2,name:"comments",className:pe.a.FormControl})}),null===m||void 0===m||null===(t=m.comments)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(M.a,{variant:"danger",children:e},t)})),Object(A.jsxs)("div",{className:"text-right",children:[Object(A.jsx)(T.a,{variant:"outline-warning",size:"sm",onClick:function(){return r()},type:"button",className:pe.a.ButtonSpacing,children:"Cancel"}),Object(A.jsx)(T.a,{variant:"outline-success",size:"sm",disabled:!c.trim(),type:"submit",className:pe.a.ButtonSpacing,children:"Update"}),Object(A.jsx)(T.a,{variant:"outline-danger",size:"sm",onClick:J,className:pe.a.ButtonSpacing,children:"Delete"})]})]}),Object(A.jsx)(ce,{showModal:y,handleClose:function(){B.current&&w(!1)},handleConfirm:function(){B.current&&k.confirmAction()},title:k.title,body:k.body})]})};var Ce=function(e){var t,a=e.jobId,c=e.id,r=e.setComments,s=e.setCommentsCount,i=Object(n.useState)(""),d=Object(h.a)(i,2),j=d[0],u=d[1],b=Object(n.useState)(""),m=Object(h.a)(b,2),O=m[0],x=m[1],p=Object(n.useState)({}),v=Object(h.a)(p,2),f=v[0],N=v[1],y=Object(n.useState)(0),w=Object(h.a)(y,2),S=w[0],I=w[1],k=Object(n.useRef)(),B=Object(n.useRef)(!0),E=c,J=a,F=P(),U=null===F||void 0===F?void 0:F.profile_image,D=null===F||void 0===F?void 0:F.username,L=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n,c,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E){e.next=4;break}return console.error("No parent comment ID provided for the reply"),e.abrupt("return");case 4:if(a={},j&&"add a reply to this comment..."!==j||(a.comment_detail=["A comment is required. Please add a comment."]),!(Object.keys(a).length>0)){e.next=10;break}return I((function(e){return e+1})),N(a),e.abrupt("return");case 10:return e.prev=10,n={comment_detail:j,job:J,parent:E},e.next=14,g.post("/comments/",n);case 14:c=e.sent,i=c.data,l=Object(C.a)(Object(C.a)({},i),{},{reply_id:i.id,reply_owner:i.owner,reply_comment_detail:i.comment_detail,reply_created_at:i.created_at,reply_updated_at:i.updated_at,parent:i.parent}),B.current&&(r((function(e){var t=e.results.map((function(e){if(e.id===E){var t=[l].concat(Object(_.a)(e.replies));return Object(C.a)(Object(C.a)({},e),{},{replies:t})}return e}));return Object(C.a)(Object(C.a)({},e),{},{results:t})})),s((function(e){return e+1})),x("Comment has been added successfully"),k.current=setTimeout((function(){x("")}),2500),u("")),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),N({message:["There was an error submitting the form."]});case 23:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:pe.a.ReplyCommentArea,children:[O&&Object(A.jsx)(M.a,{className:pe.a.SuccessMessage,variant:"success",children:O}),Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col ".concat(pe.a.ProfileSection),children:[Object(A.jsx)(Y.a,{className:pe.a.ProfileImage,src:U,alt:"Profile",fluid:!0}),Object(A.jsx)("p",{className:pe.a.ProfileName,children:D})]}),Object(A.jsx)("div",{className:"col-8",children:Object(A.jsxs)(R.a,{onSubmit:L,children:[Object(A.jsx)(R.a.Group,{children:Object(A.jsx)(R.a.Control,{placeholder:"add a reply to this comment...",as:"textarea",value:j,onChange:function(e){u(e.target.value)},rows:2,className:pe.a.FormControl})}),Object(A.jsx)("div",{children:null===f||void 0===f||null===(t=f.comment_detail)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},S),Object(A.jsx)("div",{className:"text-right ".concat(pe.a.SubmitButton),children:Object(A.jsx)(T.a,{variant:"outline-success",type:"submit",size:"sm",children:"Reply To Comment"})})]})})]})]})},Ne=function(e){var t=e.profile_image,a=e.profile_id,c=e.owner,r=e.updated_at,s=e.comment_detail,i=e.setComments,o=e.id,l=e.setCommentsCount,d=e.replies,j=e.job,u=e.setJob,b=Object(n.useState)(null),m=Object(h.a)(b,2),x=m[0],p=m[1],v=P(),f=(null===v||void 0===v?void 0:v.username)===c,g=null===v||void 0===v?void 0:v.username,_=function(){p(null)};return Object(A.jsx)("div",{className:"card ".concat(ge.a.CommentSection),children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col ".concat(ge.a.ProfileSection),children:[Object(A.jsxs)(O.b,{to:"/profile/".concat(a),children:[Object(A.jsx)(Y.a,{className:ge.a.ProfileImage,src:t,alt:"Profile",fluid:!0}),Object(A.jsx)("p",{className:ge.a.ProfileName,children:c})]}),Object(A.jsx)("p",{className:ge.a.CommentUpdated,children:r})]}),x===o?Object(A.jsx)("div",{className:"col-12 col-sm-10 ".concat(ge.a.CommentDetail),children:Object(A.jsx)(_e,{id:o,profile_image:t,comment_detail:s,onEditComplete:_,setComments:i,setCommentsCount:l})}):Object(A.jsxs)("div",{className:"col-12 col-sm-10",children:[Object(A.jsx)("div",{className:ge.a.CommentDetail,children:s}),f&&x!==o&&Object(A.jsx)("div",{className:"col-12 text-right",children:Object(A.jsx)(T.a,{onClick:function(){return p(o)},variant:"outline-primary",size:"sm",children:"Edit Comment"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:ge.a.ReplyHeader,children:"Reply to this comment"}),Object(A.jsx)(Ce,{id:o,jobId:j,profile_image:t,profile_owner:c,setComments:i,setCommentsCount:l,setJob:u})]}),Object(A.jsx)(be.a,{defaultActiveKey:"1",children:Object(A.jsxs)(Q.a,{children:[Object(A.jsx)(Q.a.Header,{children:Object(A.jsx)(be.a.Toggle,{as:T.a,variant:"link",eventKey:"0",className:ge.a.ReplyAccordionHeader,children:d.length>0?"Click to view replies":Object(A.jsx)("span",{className:ge.a.NoReplyLink,children:"No replies yet..."})})}),Object(A.jsx)(be.a.Collapse,{eventKey:"0",children:Object(A.jsx)(Q.a.Body,{children:d.map((function(e){return Object(A.jsx)(Q.a,{className:ge.a.ReplyCommentSection,children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col ".concat(ge.a.ReplyProfileSection),children:[Object(A.jsx)("p",{className:ge.a.ReplyProfileName,children:e.reply_owner}),Object(A.jsx)("p",{className:ge.a.ReplyCommentUpdated,children:e.reply_updated_at})]}),x===e.reply_id?Object(A.jsx)("div",{className:"col-8 ".concat(ge.a.ReplyCommentDetail),children:Object(A.jsx)(_e,{id:e.reply_id,profile_image:t,comment_detail:e.reply_comment_detail,isReply:!0,parentCommentId:o,onEditComplete:_,setComments:i,setCommentsCount:l})}):Object(A.jsxs)("div",{className:"col-8",children:[Object(A.jsx)("div",{className:ge.a.ReplyCommentDetail,children:e.reply_comment_detail}),g===e.reply_owner&&x!==e.reply_id&&Object(A.jsx)("div",{className:"col-12  text-right",children:Object(A.jsx)(T.a,{onClick:function(){return p(e.reply_id)},variant:"outline-primary",size:"sm",children:"Edit Reply"})})]})]})},"".concat(o,"-").concat(e.reply_id))}))})})]})})]})]})})},ye=a(56),we=a(133),Se=a(94),Ae=a.n(Se),Ie=function(e){var t=e.spinner,a=e.icon,n=e.message;return Object(A.jsxs)("div",{className:"".concat(Ae.a.Asset," p-4"),children:[t&&Object(A.jsx)(we.a,{animation:"border"}),a&&Object(A.jsx)("i",{className:a}),n&&Object(A.jsx)("p",{children:n})]})},ke=a(64),Pe=a.n(ke);var Be=function(){var e=Object(x.h)().id,t=P(),a=null===t||void 0===t?void 0:t.profile_image,c=null===t||void 0===t?void 0:t.username,r=Object(n.useState)({results:[]}),s=Object(h.a)(r,2),i=s[0],d=s[1],j=Object(n.useState)({results:[]}),u=Object(h.a)(j,2),b=u[0],m=u[1],O=Object(n.useState)(0),p=Object(h.a)(O,2),v=p[0],g=p[1],_=Object(n.useState)({results:[]}),N=Object(h.a)(_,2),w=N[0],S=N[1],I=Object(x.f)(),k=Object(n.useRef)(!0);return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var a,n,c,r,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([f.get("/jobs/".concat(e,"/")),f.get("/comments/?job=".concat(e)),f.get("/invoices/?job_id=".concat(e))]);case 3:a=t.sent,n=Object(h.a)(a,3),c=n[0].data,r=n[1].data,s=n[2].data,k.current&&(d({results:[c]}),m(r),g(c.comment_count),S(Object(C.a)({},s))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),k.current&&I.push("/404-error-page");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){k.current=!1}}),[e,t,I]),Object(A.jsxs)("div",{children:[Object(A.jsx)(he,Object(C.a)(Object(C.a)(Object(C.a)({},i.results[0]),{},{commentsCount:v},w.results[0]),{},{onWatchStatusChange:function(e){d((function(t){return{results:[Object(C.a)(Object(C.a)({},t.results[0]),{},{watch_id:e})]}}))},shouldRemoveOnUnwatch:!1})),t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("p",{className:Pe.a.CommentTitle,children:"Leave a comment"}),Object(A.jsx)(ve,{profileImage:a,profileName:c,job:e,setJob:d,setComments:m,setCommentsCount:g})]}):b.results.length?"comments":null,b.results.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("p",{className:Pe.a.CommentTitle,children:"Previous comments"}),Object(A.jsx)(ye.a,{children:b.results.map((function(t){return Object(A.jsx)(Ne,Object(C.a)(Object(C.a)({job:e},t),{},{setJob:d,setComments:m,setCommentsCount:g}),t.id)})),dataLength:b.results.length,loader:Object(A.jsx)(Ie,{spinner:!0}),hasMore:!!b.next,next:function(){return y(b,m)}})]}):t?Object(A.jsx)("div",{className:Pe.a.NoCommentsSection,children:Object(A.jsx)("p",{className:Pe.a.CommentTitle,children:"No comments have been left yet..."})}):null]})},Ee=a(16),Je=a.n(Ee),Fe=a(95),Ue=a.n(Fe),De=function(){return Object(A.jsx)("button",{className:Ue.a.UpArrowButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Back to top",children:Object(A.jsx)("i",{className:"fa-solid fa-arrow-up"})})};var Le=function(e){var t,a=e.filter,c=void 0===a?"":a,r=e.isWatchedJobsPage,s=void 0!==r&&r,i=P(),d=Object(n.useState)({results:[]}),u=Object(h.a)(d,2),b=u[0],m=u[1],O=Object(n.useState)(!1),p=Object(h.a)(O,2),v=p[0],g=p[1],_=Object(n.useState)({Pending:0,Underway:0,Completed:0}),N=Object(h.a)(_,2),w=N[0],S=N[1],I=Object(n.useState)(""),k=Object(h.a)(I,2),B=k[0],E=k[1],J=Object(n.useState)("-created_at"),F=Object(h.a)(J,2),U=F[0],D=F[1],M=Object(n.useState)(null),q=Object(h.a)(M,2),G=q[0],K=q[1],V=Object(x.f)(),H=Object(x.g)().pathname;Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/jobs/?".concat(c,"search=").concat(B,"&ordering=").concat(U));case 3:t=e.sent,a=t.data,m(a),S(a.status_counts),g(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();g(!1),e()}),[H,i,c,B,U,V]);var W=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/jobs/?".concat(c,"search=").concat(B,"&ordering=").concat(U));case 3:t=e.sent,a=t.data,m(a),S(a.status_counts),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(e){D(e)};return Object(A.jsxs)(j.a,{className:Je.a.AllJobsContainer,children:[Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:10,xl:10,className:"mx-auto",children:[Object(A.jsx)("div",{className:Je.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:Je.a.StatusCard,children:[Object(A.jsx)("p",{className:Je.a.DashboardHeadings,children:"Dashboard"}),Object(A.jsxs)("div",{className:"row ".concat(Je.a.StatusBlock),children:[Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Je.a.CardPointer," ").concat("Pending"===G?Je.a.PendingBorder:""),onClick:function(){E("Pending"),K("Pending")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Je.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-bell-concierge ".concat(Je.a.PendingIcon)}),Object(A.jsx)("div",{className:Je.a.Title,children:"Pending"}),Object(A.jsx)("div",{className:Je.a.Title,children:w.Pending||"0"})]})}),Object(A.jsx)("div",{className:Je.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){E("Pending"),K("Pending")},variant:"outline-danger",size:"sm",children:"Set to Pending"})})]}),Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Je.a.CardPointer," ").concat("Underway"===G?Je.a.UnderwayBorder:""),onClick:function(){E("Underway"),K("Underway")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Je.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-hourglass-half ".concat(Je.a.UnderwayIcon)}),Object(A.jsx)("div",{className:Je.a.Title,children:"Underway"}),Object(A.jsx)("div",{className:Je.a.Title,children:w.Underway||"0"})]})}),Object(A.jsx)("div",{className:Je.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){E("Underway"),K("Underway")},variant:"outline-warning",size:"sm",children:"Set to Underway"})})]}),Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Je.a.CardPointer," ").concat("Completed"===G?Je.a.CompletedBorder:""),onClick:function(){E("Completed"),K("Completed")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Je.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-hourglass-half ".concat(Je.a.CompletedIcon)}),Object(A.jsx)("div",{className:Je.a.Title,children:"Completed"}),Object(A.jsx)("div",{className:Je.a.Title,children:w.Completed||"0"})]})}),Object(A.jsx)("div",{className:Je.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){E("Completed"),K("Completed")},variant:"outline-success",size:"sm",children:"Set to Completed"})})]})]}),Object(A.jsx)("p",{className:"text-md-end ".concat(Je.a.DashboardHeadings),children:"Order by:"}),Object(A.jsxs)("div",{className:"row ".concat(Je.a.OrderBySection),children:[Object(A.jsx)("div",{className:"col-md-4 ".concat(Je.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return Y("-created_at")},variant:"outline-info",size:"sm",children:"Recently Created"})}),Object(A.jsx)("div",{className:"col-md-4 ".concat(Je.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return Y("-updated_at")},variant:"outline-info",size:"sm",children:"Recently Updated"})}),Object(A.jsx)("div",{className:"col-md-4 ".concat(Je.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return Y("due_date")},variant:"outline-info",size:"sm",children:"Due Date"})})]}),Object(A.jsx)("p",{className:"text-md-end ".concat(Je.a.DashboardHeadings),children:"Keyword search:"}),Object(A.jsxs)("div",{className:Je.a.SearchBarContainer,children:[Object(A.jsx)("i",{className:"fas fa-search ".concat(Je.a.SearchIcon)}),Object(A.jsxs)(R.a,{className:Je.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:[Object(A.jsx)(R.a.Control,{type:"text",className:"mr-sm-2",placeholder:"Search jobs",value:B,onChange:function(e){return E(e.target.value)}}),B&&Object(A.jsx)("div",{className:Je.a.ClearSearchButton,onClick:function(){E("")},children:Object(A.jsx)("i",{className:"fa-regular fa-circle-xmark"})})]})]})]})}),v?Object(A.jsx)(A.Fragment,{children:null!==b&&void 0!==b&&null!==(t=b.results)&&void 0!==t&&t.length?Object(A.jsx)(ye.a,{children:b.results.map((function(e){return Object(A.jsx)(he,Object(C.a)(Object(C.a)({},e),{},{setJobs:m,jobs:b,onUnwatch:W,onWatchStatusChange:function(t){return function(e,t){m((function(a){return Object(C.a)(Object(C.a)({},a),{},{results:a.results.map((function(a){return a.id===e?Object(C.a)(Object(C.a)({},a),{},{watch_id:t}):a}))})}))}(e.id,t)},shouldRemoveOnUnwatch:s}),e.id)})),dataLength:b.results.length,loader:Object(A.jsx)(Ie,{spinner:!0}),hasMore:!!b.next,next:function(){return y(b,m)}}):Object(A.jsx)(Ie,{icon:"fa-solid fa-clipboard-question",message:"No Jobs to display"})}):Object(A.jsx)(Ie,{spinner:!0,message:"loading jobs"})]}),Object(A.jsx)("div",{children:Object(A.jsx)(De,{})})]})};var Re=function(){var e,t,a,c,r,s,i=Object(n.useState)([]),d=Object(h.a)(i,2),u=d[0],b=d[1],m=Object(x.h)().id,O=Object(n.useState)({job_type:"",job_details:"",image:"",due_date:"",assigned_to:"",status:"",is_owner:null}),p=Object(h.a)(O,2),_=p[0],N=p[1],y=_.job_type,w=_.job_details,S=_.image,I=_.due_date,k=_.assigned_to,P=_.status,B=Object(n.useState)({}),E=Object(h.a)(B,2),J=E[0],F=E[1],U=Object(n.useState)(""),K=Object(h.a)(U,2),V=K[0],H=K[1],W=Object(n.useState)(0),z=Object(h.a)(W,2),X=z[0],Z=z[1],$=Object(n.useState)(!1),ee=Object(h.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)({title:"",body:"",confirmAction:function(){}}),re=Object(h.a)(ne,2),se=re[0],ie=re[1],oe=Object(n.useRef)(),le=Object(n.useRef)(),de=Object(x.f)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a,n,c,r,s,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/jobs/".concat(m,"/"));case 3:t=e.sent,a=t.data,n=a.job_type,c=a.job_details,r=a.image,s=a.due_date,i=a.assigned_to,l=a.status,a.is_owner?N({job_type:n,job_details:c,image:r,due_date:s,assigned_to:i,status:l}):de.push("/"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[de,m]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/profiles/");case 3:t=e.sent,a=t.data,b(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var ue=function(e){N(Object(C.a)(Object(C.a)({},_),{},Object(D.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){return function(){le.current&&clearTimeout(le.current)}}),[]);var be=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("job_type",y),t.append("job_details",w),t.append("due_date",I),t.append("assigned_to",k),t.append("status",P),oe.current&&oe.current.files[0]&&t.append("image",oe.current.files[0]),e.prev=7,e.next=10,f.put("/jobs/".concat(m,"/"),t);case 10:H("Job has been updated successfully"),le.current=setTimeout((function(){H(""),de.push("/jobs/".concat(m))}),2500),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),v.a.isAxiosError(e.t0)&&e.t0.response?401!==e.t0.response.status&&F(e.t0.response.data):(console.error(e.t0),F({message:["There was an error submitting the form."]})),Z((function(e){return e+1}));case 18:ae(!1);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/jobs/".concat(m,"/"));case 3:H("Job has been deleted successfully"),le.current=setTimeout((function(){H(""),de.goBack()}),1500),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:ae(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Oe=Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)(R.a.Group,{controlId:"job_type",children:[Object(A.jsx)(R.a.Label,{children:"Job Type:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"job_type",value:y,onChange:ue,isrequired:"true",className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Choose Job Type"}),Object(A.jsx)("option",{value:"Major Service",children:"Major Service"}),Object(A.jsx)("option",{value:"Minor Service",children:"Minor Service"}),Object(A.jsx)("option",{value:"MOT",children:"MOT"}),Object(A.jsx)("option",{value:"Tyre Change",children:"Tyre Change"})]})]}),Object(A.jsx)("div",{children:null===(e=J.job_type)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"job_type-errors-".concat(X)),Object(A.jsxs)(R.a.Group,{controlId:"job_details",children:[Object(A.jsx)(R.a.Label,{children:"Job Details:"}),Object(A.jsx)(R.a.Control,{as:"textarea",name:"job_details",rows:2,value:w,onChange:ue,className:je.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=J.job_details)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"job_details-errors-".concat(X)),Object(A.jsxs)(R.a.Group,{controlId:"assigned_to",children:[Object(A.jsx)(R.a.Label,{children:"Assigned to:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"assigned_to",value:k,onChange:ue,isrequired:"true",className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Choose a user"}),u.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.owner},e.id)}))]})]}),Object(A.jsx)("div",{children:null===(a=J.assigned_to)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"assigned_to-errors-".concat(X)),Object(A.jsxs)(R.a.Group,{controlId:"due_date",children:[Object(A.jsx)(R.a.Label,{children:"Due Date:"}),Object(A.jsx)(R.a.Control,{type:"date",name:"due_date",value:I,onChange:ue,min:function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}(),className:je.a.FormControl})]}),Object(A.jsx)("div",{children:null===(c=J.due_date)||void 0===c?void 0:c.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"due_date-errors-".concat(X)),Object(A.jsxs)(R.a.Group,{controlId:"status",children:[Object(A.jsx)(R.a.Label,{children:"Status:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"status",value:P,onChange:ue,className:je.a.FormControl,children:[Object(A.jsx)("option",{children:"Select status"}),Object(A.jsx)("option",{value:"Pending",children:"Pending"}),Object(A.jsx)("option",{value:"Underway",children:"Underway"}),Object(A.jsx)("option",{value:"Completed",children:"Completed"}),Object(A.jsx)("option",{value:"Overdue",children:"Overdue"})]})]}),Object(A.jsx)("div",{children:null===(r=J.status)||void 0===r?void 0:r.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"status-errors-".concat(X))]});return Object(A.jsx)(j.a,{className:je.a.AddEditJobForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:8,xl:6,className:"mx-auto",children:[V&&Object(A.jsx)(M.a,{className:je.a.SuccessMessage,variant:"success",children:V}),Object(A.jsx)("div",{className:je.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:je.a.FormCard,children:[Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-pencil ".concat(je.a.AddJobIcon),"aria-hidden":"true",children:" "}),"Edit Job Form"]}),Object(A.jsxs)(R.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(A.jsxs)("div",{children:[Oe,Object(A.jsx)(Q.a,{children:Object(A.jsxs)(R.a.Group,{className:"text-center",children:[S?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("figure",{children:Object(A.jsx)(Y.a,{className:je.a.Image,src:S,rounded:!0,alt:"Job Image"})}),Object(A.jsx)("div",{children:null===(s=J.image)||void 0===s?void 0:s.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"image-errors-".concat(X)),Object(A.jsx)("div",{children:Object(A.jsx)(R.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(A.jsxs)("div",{className:je.a.UploadIcon,children:[Object(A.jsx)("i",{className:"fa-solid fa-arrow-up-from-bracket","aria-hidden":"true"}),Object(A.jsx)("p",{children:"Change image"})]})})})]}):Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(R.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(A.jsxs)("div",{className:je.a.UploadIcon,children:[Object(A.jsx)("i",{className:"fa-solid fa-arrow-up-from-bracket","aria-hidden":"true"}),Object(A.jsx)("p",{children:"Upload an image"})]})})}),Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(R.a.File,{id:"image-upload",accept:"image/*",ref:oe,onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(S),N(Object(C.a)(Object(C.a)({},_),{},{image:URL.createObjectURL(e.target.files[0])})))}})})]})})]}),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:je.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"warning",onClick:function(){return de.goBack()},children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:je.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"success",onClick:function(e){e.preventDefault();var t={};if(y&&"Choose Job Type"!==y||(t.job_type=["Job Type is Required. Please select a job type..."]),w&&"Enter some details about the vehicle and the job here..."!==w||(t.job_details=["Please enter some details about the vehicle and the job"]),I||(t.due_date=["Due Date is required. Please select a due date..."]),k&&""!==k||(t.assigned_to=["Please assign this job to a user..."]),P&&""!==P||(t.assigned_to=["Please select a status for thjis job..."]),Object.keys(t).length>0)return Z((function(e){return e+1})),void F(t);ie({title:"Confirm Job Update",body:"Are you sure you want to update this job?",confirmAction:be}),ae(!0)},children:"Update Job"})}),Object(A.jsx)(L.a,{md:"auto",className:je.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"danger",onClick:function(){ie({title:"Confirm Job Deletion",body:"Are you sure you want to delete this job? This action cannot be undone.",confirmAction:me}),ae(!0)},children:"Delete Job"})})]})]}),Object(A.jsx)(ce,{showModal:te,handleClose:function(){ae(!1)},handleConfirm:function(){se.confirmAction()},title:se.title,body:se.body})]})})]})})},Te=a(20),Me=a.n(Te);var qe=function(){var e,t,a,c,r,s,i=Object(x.g)(),d=parseInt(null===(e=i.state)||void 0===e?void 0:e.jobId,10),u=Object(n.useState)({job:null,customer_firstname:"",customer_lastname:"",customer_email:"",customer_phone:"",amount:"",due_date:"",invoice_status:"Pending"}),b=Object(h.a)(u,2),m=b[0],O=b[1],p=m.customer_firstname,g=m.customer_lastname,_=m.customer_email,N=m.customer_phone,y=m.amount,w=m.due_date,S=m.invoice_status,I=Object(n.useState)({}),k=Object(h.a)(I,2),P=k[0],B=k[1],E=Object(n.useState)(0),J=Object(h.a)(E,2),F=J[0],U=J[1],K=Object(n.useState)(""),V=Object(h.a)(K,2),H=V[0],W=V[1],Y=Object(n.useRef)(),z=Object(x.f)(),X=function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)};Object(n.useEffect)((function(){var e=X();O((function(t){return Object(C.a)(Object(C.a)({},t),{},{due_date:e})}))}),[]);var Z=function(e){O(Object(C.a)(Object(C.a)({},m),{},Object(D.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){return function(){Y.current&&clearTimeout(Y.current)}}),[]);var $=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},p&&"enter first name"!==p||(a.customer_firstname=["First name is required. Please enter the customer's name..."]),g&&"enter last name"!==g||(a.customer_lastname=["Last name is required. Please enter the customer's second name..."]),y&&"enter invoice amount"!==y||(a.amount=["An amount is required. Please enter a decimal amount..."]),w||(a.due_date=["Due Date is required. Please select a due date..."]),S&&""!==S||(a.invoice_status=["Please select a status for this job..."]),!(Object.keys(a).length>0)){e.next=11;break}return U((function(e){return e+1})),B(a),e.abrupt("return");case 11:return(n=new FormData).append("job_id",d),n.append("customer_firstname",p),n.append("customer_lastname",g),n.append("customer_email",_),n.append("customer_phone",N),n.append("amount",y),n.append("inv_due_date",w),n.append("invoice_status",S),e.prev=20,e.next=23,f.post("/invoices/",n);case 23:W("Invoice has been added successfully"),Y.current=setTimeout((function(){W(""),z.push("/jobs/".concat(d))}),2500),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),v.a.isAxiosError(e.t0)&&e.t0.response?401!==e.t0.response.status&&B(e.t0.response.data):(console.error(e.t0),B({message:["There was an error submitting the form."]}));case 30:case"end":return e.stop()}}),e,null,[[20,27]])})));return function(t){return e.apply(this,arguments)}}(),ee=Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)(R.a.Group,{controlId:"customer_firstname",children:[Object(A.jsx)(R.a.Label,{children:"Customer First Name:"}),Object(A.jsx)(R.a.Control,{type:"text",name:"customer_firstname",placeholder:"enter first name",value:p,onChange:Z,className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=P.customer_firstname)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"customer_firstname-errors-".concat(F)),Object(A.jsxs)(R.a.Group,{controlId:"customer_lastname",children:[Object(A.jsx)(R.a.Label,{children:"Customer Last Name:"}),Object(A.jsx)(R.a.Control,{type:"text",name:"customer_lastname",value:g,onChange:Z,className:Me.a.FormControl,placeholder:"enter last name"})]}),Object(A.jsx)("div",{children:null===(a=P.customer_lastname)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"customer_lastname-errors-".concat(F)),Object(A.jsxs)(R.a.Group,{controlId:"customer_email",children:[Object(A.jsx)(R.a.Label,{children:"Email:"}),Object(A.jsx)(R.a.Control,{type:"email",name:"customer_email",value:_,onChange:Z,className:Me.a.FormControl,placeholder:"enter email"})]}),Object(A.jsxs)(R.a.Group,{controlId:"customer_phone",children:[Object(A.jsx)(R.a.Label,{children:"Phone:"}),Object(A.jsx)(R.a.Control,{type:"tel",name:"customer_phone",value:N,onChange:Z,pattern:"^\\d{9,15}$",title:"Phone number must be between 9 to 15 digits.",className:Me.a.FormControl,placeholder:"enter phone no"})]}),Object(A.jsxs)(R.a.Group,{controlId:"amount",children:[Object(A.jsx)(R.a.Label,{children:"Amount:"}),Object(A.jsx)(R.a.Control,{type:"number",min:"0",step:"0.01",name:"amount",value:y,onChange:Z,className:Me.a.FormControl,placeholder:"enter invoice amount"})]}),Object(A.jsx)("div",{children:null===(c=P.amount)||void 0===c?void 0:c.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"amount-errors-".concat(F)),Object(A.jsxs)(R.a.Group,{controlId:"due_date",children:[Object(A.jsx)(R.a.Label,{children:"Due Date:"}),Object(A.jsx)(R.a.Control,{type:"date",name:"due_date",value:w,onChange:Z,min:X(),className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(r=P.due_date)||void 0===r?void 0:r.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"due_date-errors-".concat(F)),Object(A.jsxs)(R.a.Group,{controlId:"invoice_status",children:[Object(A.jsx)(R.a.Label,{children:"Invoice Status:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"invoice_status",value:S,onChange:Z,className:Me.a.FormControl,children:[Object(A.jsx)("option",{children:"Select status"}),Object(A.jsx)("option",{value:"Pending",children:"Pending"}),Object(A.jsx)("option",{value:"Invoiced",children:"Invoiced"}),Object(A.jsx)("option",{value:"Paid",children:"Paid"})]})]}),Object(A.jsx)("div",{children:null===(s=P.invoice_status)||void 0===s?void 0:s.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"invoice_status-errors-".concat(F))]});return Object(A.jsx)(j.a,{className:Me.a.AddEditInvoiceForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:8,xl:6,className:"mx-auto",children:[H&&Object(A.jsx)(M.a,{className:Me.a.SuccessMessage,variant:"success",children:H}),Object(A.jsx)("div",{className:Me.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:Me.a.FormCard,children:[Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-plus ".concat(Me.a.AddEditInvoiceIcon),"aria-hidden":"true"}),"Add Invoice Form"]}),Object(A.jsxs)(R.a,{onSubmit:$,children:[Object(A.jsx)("div",{children:ee}),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:Me.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"warning",onClick:function(){return z.goBack()},children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:Me.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"success",type:"submit",children:"Add Invoice"})})]})]})]})})]})})};var Qe=function(){var e,t,a,c,r,s=P(),i=Object(x.h)().id,d=Object(n.useState)({inv_id:"",inv_owner:"",inv_owner_id:"",job_assigned_to:"",job_assigned_to_id:"",job_id:null,customer_firstname:"",customer_lastname:"",customer_email:"",customer_phone:"",amount:"",inv_due_date:"",invoice_status:""}),u=Object(h.a)(d,2),b=u[0],m=u[1],O=b.inv_id,p=b.inv_owner,_=b.inv_owner_id,N=b.job_assigned_to,y=b.job_assigned_to_id,w=b.job_id,S=b.customer_firstname,I=b.customer_lastname,k=b.customer_email,B=b.customer_phone,E=b.amount,J=b.inv_due_date,F=b.invoice_status,U=Object(n.useState)({}),K=Object(h.a)(U,2),V=K[0],H=K[1],W=Object(n.useState)(0),Y=Object(h.a)(W,2),z=Y[0],X=Y[1],Z=Object(n.useState)(""),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(h.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)({title:"",body:"",confirmAction:function(){}}),oe=Object(h.a)(ie,2),le=oe[0],de=oe[1],je=Object(n.useRef)(),ue=Object(x.f)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/invoices/".concat(i,"/"));case 3:t=e.sent,a=t.data,m({inv_id:a.inv_id,inv_owner:a.inv_owner,inv_owner_id:a.inv_owner_id,job_assigned_to:a.job_assigned_to,job_assigned_to_id:a.job_assigned_to_id,job_id:a.job_id,customer_firstname:a.customer_firstname,customer_lastname:a.customer_lastname,customer_email:a.customer_email,customer_phone:a.customer_phone,amount:a.amount,inv_due_date:a.inv_due_date,invoice_status:a.invoice_status}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[ue,i,s,p,N,_,y]);var be=function(e){m(Object(C.a)(Object(C.a)({},b),{},Object(D.a)({},e.target.name,e.target.value)))},me=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.pk===_||s.pk===y){e.next=4;break}return ue.push("/"),e.abrupt("return");case 4:if(a={},S&&"enter first name"!==S||(a.customer_firstname=["First name is required. Please enter the customer's name..."]),I&&"enter last name"!==I||(a.customer_lastname=["Last name is required. Please enter the customer's second name..."]),E&&"enter invoice amount"!==E||(a.amount=["An amount is required. Please enter a decimal amount..."]),J||(a.due_date=["Due Date is required. Please select a due date..."]),F&&""!==F||(a.invoice_status=["Please select a status for this job..."]),!(Object.keys(a).length>0)){e.next=14;break}return X((function(e){return e+1})),H(a),e.abrupt("return");case 14:de({title:"Confirm Invoice Update",body:"Are you sure you want to update this invoice?",confirmAction:Oe}),se(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("job_id",w),t.append("customer_firstname",S),t.append("customer_lastname",I),t.append("customer_email",k),t.append("customer_phone",B),t.append("amount",E),t.append("inv_due_date",J),t.append("invoice_status",F),e.prev=9,e.next=12,f.put("/invoices/".concat(O,"/"),t);case 12:te("Invoice has been updated successfully"),je.current=setTimeout((function(){te(""),ue.push("/")}),2500),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),v.a.isAxiosError(e.t0)&&e.t0.response?401!==e.t0.response.status&&H(e.t0.response.data):(console.error(e.t0),H({message:["There was an error submitting the form."]}));case 19:se(!1);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/invoices/".concat(O,"/"));case 3:te("Invoice has been deleted successfully"),je.current=setTimeout((function(){te(""),ue.goBack()}),2500),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:se(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),xe=Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsxs)(R.a.Group,{controlId:"customer_firstname",children:[Object(A.jsx)(R.a.Label,{children:"Customer First Name:"}),Object(A.jsx)(R.a.Control,{type:"text",name:"customer_firstname",value:S,onChange:be,className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(e=V.customer_firstname)||void 0===e?void 0:e.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"customer_firstname-errors-".concat(z)),Object(A.jsxs)(R.a.Group,{controlId:"customer_lastname",children:[Object(A.jsx)(R.a.Label,{children:"Customer Last Name:"}),Object(A.jsx)(R.a.Control,{type:"text",name:"customer_lastname",value:I,onChange:be,className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(t=V.customer_lastname)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"customer_lastname-errors-".concat(z)),Object(A.jsxs)(R.a.Group,{controlId:"customer_email",children:[Object(A.jsx)(R.a.Label,{children:"Email:"}),Object(A.jsx)(R.a.Control,{type:"email",name:"customer_email",value:k,onChange:be,className:Me.a.FormControl})]}),Object(A.jsxs)(R.a.Group,{controlId:"customer_phone",children:[Object(A.jsx)(R.a.Label,{children:"Phone:"}),Object(A.jsx)(R.a.Control,{type:"tel",name:"customer_phone",value:B,onChange:be,pattern:"^\\d{9,15}$",title:"Phone number must be between 9 to 15 digits.",className:Me.a.FormControl})]}),Object(A.jsxs)(R.a.Group,{controlId:"amount",children:[Object(A.jsx)(R.a.Label,{children:"Amount:"}),Object(A.jsx)(R.a.Control,{type:"number",min:"0",step:"0.01",name:"amount",value:E,onChange:be,className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(a=V.amount)||void 0===a?void 0:a.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"amount-errors-".concat(z)),Object(A.jsxs)(R.a.Group,{controlId:"inv_due_date",children:[Object(A.jsx)(R.a.Label,{children:"Due Date:"}),Object(A.jsx)(R.a.Control,{type:"date",name:"inv_due_date",value:J,onChange:be,min:function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}(),className:Me.a.FormControl})]}),Object(A.jsx)("div",{children:null===(c=V.inv_due_date)||void 0===c?void 0:c.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"inv_due_date-errors-".concat(z)),Object(A.jsxs)(R.a.Group,{controlId:"invoice_status",children:[Object(A.jsx)(R.a.Label,{children:"Status:"}),Object(A.jsxs)(R.a.Control,{as:"select",name:"invoice_status",value:F,onChange:be,className:Me.a.FormControl,children:[Object(A.jsx)("option",{children:"Select status"}),Object(A.jsx)("option",{value:"Pending",children:"Pending"}),Object(A.jsx)("option",{value:"Invoiced",children:"Invoiced"}),Object(A.jsx)("option",{value:"Paid",children:"Paid"})]}),Object(A.jsx)("div",{children:null===(r=V.invoice_status)||void 0===r?void 0:r.map((function(e,t){return Object(A.jsx)(q,{message:e,variant:"warning",timeout:3e3},t)}))},"invoice_status-errors-".concat(z))]})]});return Object(A.jsx)(j.a,{className:Me.a.AddEditInvoiceForm,children:Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:8,xl:6,className:"mx-auto",children:[ee&&Object(A.jsx)(M.a,{className:Me.a.SuccessMessage,variant:"success",children:ee}),Object(A.jsx)("div",{className:Me.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:Me.a.FormCard,children:[Object(A.jsxs)("p",{children:[Object(A.jsx)("i",{className:"fa-solid fa-pencil ".concat(Me.a.AddEditInvoiceIcon),"aria-hidden":"true"}),"Edit Invoice Form"]}),Object(A.jsxs)(R.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(A.jsx)("div",{children:xe}),Object(A.jsxs)(G.a,{className:"justify-content-center",children:[Object(A.jsx)(L.a,{md:"auto",className:Me.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"warning",onClick:function(){return ue.goBack()},children:"Cancel"})}),Object(A.jsx)(L.a,{md:"auto",className:Me.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"success",onClick:me,children:"Update Invoice"})}),Object(A.jsx)(L.a,{md:"auto",className:Me.a.BtnContainer,children:Object(A.jsx)(T.a,{variant:"danger",onClick:function(){de({title:"Confirm Invoice Deletion",body:"Are you sure you want to delete this invoice? This action cannot be undone.",confirmAction:he}),se(!0)},children:"Delete Invoice"})})]})]}),Object(A.jsx)(ce,{showModal:re,handleClose:function(){se(!1)},handleConfirm:function(){le.confirmAction()},title:le.title,body:le.body})]})})]})})},Ge=a(48),Ke=a.n(Ge),Ve=function(e){var t=e.inv_id,a=e.inv_owner,n=e.inv_owner_id,c=e.job_assigned_to,r=e.job_assigned_to_id,s=e.customer_firstname,i=e.customer_lastname,o=e.customer_email,l=e.customer_phone,d=e.inv_updated_at,j=e.inv_due_date,u=e.amount,b=e.invoice_status,m=e.id,h=e.job_type,x=e.status,p=e.jobId,v=e.jobType,f=e.jobStatus,g=P(),_=function(){return Object(A.jsx)("div",{className:"text-right",children:a===(null===g||void 0===g?void 0:g.username)||c===(null===g||void 0===g?void 0:g.username)?Object(A.jsx)(O.b,{to:"/invoices/".concat(t,"/edit-invoice"),children:Object(A.jsx)(T.a,{variant:"primary",children:"Edit Invoice"})}):Object(A.jsxs)(T.a,{variant:"outline-secondary",disabled:!0,size:"sm",children:[Object(A.jsx)("div",{className:Ke.a.DisabledInvoiceEditButton,children:"Editing unavailable."}),Object(A.jsx)("div",{className:Ke.a.DisabledInvoiceEditButton,children:"Only ".concat(a," or ").concat(c," can edit this job")})]})})},C=function(){return Object(A.jsx)("div",{className:Ke.a.JobButtonContainer,children:Object(A.jsx)(O.b,{to:"/jobs/".concat(m||p),children:Object(A.jsx)(T.a,{variant:"primary",children:"View Job"})})})};return Object(A.jsx)("div",{className:Ke.a.CardBlock,children:Object(A.jsx)("div",{className:"card",children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsxs)("div",{className:Ke.a.InvoiceCardHeaderContainer,children:[Object(A.jsx)("p",{className:Ke.a.InvoiceCardHeader,children:"INVOICE CARD"}),Object(A.jsx)(_,{})]}),Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)("div",{className:"col-md-8",children:[Object(A.jsx)("table",{className:"table table-striped",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Invoice Number:"}),Object(A.jsx)("td",{children:t})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Customer:"}),Object(A.jsxs)("td",{children:[s," ",i]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Email:"}),Object(A.jsx)("td",{children:o})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Phone:"}),Object(A.jsx)("td",{children:l})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Amount:"}),Object(A.jsxs)("td",{children:["\xa3",u]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Invoice Due:"}),Object(A.jsx)("td",{children:j})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Invoice Staus:"}),Object(A.jsx)("td",{children:b})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Updated on:"}),Object(A.jsx)("td",{children:d})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Created by:"}),Object(A.jsx)("td",{children:Object(A.jsx)(O.b,{to:"/profile/".concat(n),children:a})})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Job Assigned To:"}),Object(A.jsx)("td",{children:Object(A.jsx)(O.b,{to:"/profile/".concat(r),children:c})})]})]})}),Object(A.jsx)(be.a,{defaultActiveKey:"1",children:Object(A.jsxs)(Q.a,{children:[Object(A.jsx)(Q.a.Header,{children:Object(A.jsx)("div",{className:Ke.a.CenteredToggle,children:Object(A.jsx)(be.a.Toggle,{as:T.a,variant:"link",eventKey:"0",children:Object(A.jsx)("span",{className:Ke.a.ViewJobSummaryLink,children:"Click To View Job Summary"})})})}),Object(A.jsx)(be.a.Collapse,{eventKey:"0",children:Object(A.jsxs)(Q.a.Body,{children:[Object(A.jsx)(C,{}),Object(A.jsx)("table",{className:"table table-striped",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Job No:"}),Object(A.jsx)("td",{children:m||p})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Job Type:"}),Object(A.jsx)("td",{children:h||v})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Job Status:"}),Object(A.jsx)("td",{children:x||f})]})]})})]})})]})})]})})]})})})};var He=function(){var e,t=Object(x.h)().id,a=Object(n.useState)({results:[]}),c=Object(h.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(null),d=Object(h.a)(i,2),j=d[0],u=d[1],b=null===(e=r.results[0])||void 0===e?void 0:e.job_id,m=Object(x.f)();return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var a,n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f.get("/invoices/".concat(t))]);case 3:a=e.sent,n=Object(h.a)(a,1),c=n[0].data,s({results:[c]}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m.push("/404-error-page");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,m]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=6;break}return e.next=4,f.get("/jobs/".concat(b));case 4:t=e.sent,u(t.data);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Ve,Object(C.a)(Object(C.a)({},r.results[0]),j))})},We=a(17),Ye=a.n(We);var ze=function(){var e,t=P(),a=Object(n.useState)({results:[]}),c=Object(h.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),d=Object(h.a)(i,2),u=d[0],b=d[1],m=Object(n.useState)(!1),O=Object(h.a)(m,2),p=O[0],v=O[1],g=Object(n.useState)({Pending:0,Invoiced:0,Paid:0}),_=Object(h.a)(g,2),N=_[0],w=_[1],S=Object(n.useState)(""),I=Object(h.a)(S,2),k=I[0],B=I[1],E=Object(n.useState)("-updated_at"),J=Object(h.a)(E,2),F=J[0],U=J[1],D=Object(n.useState)(null),M=Object(h.a)(D,2),q=M[0],G=M[1],K=Object(x.f)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/invoices/?search=".concat(k,"&ordering=").concat(F));case 3:t=e.sent,a=t.data,s(a),w(a.invoice_status_counts),v(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();v(!1),e();var t=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/jobs/");case 3:t=e.sent,a=t.data.results,b(a),v(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();v(!1),t()}),[t,K,k,F]);var V=function(e){U(e)};return Object(A.jsxs)(j.a,{className:Ye.a.AllInvoicesContainer,children:[Object(A.jsxs)(L.a,{xs:12,sm:12,md:10,lg:10,xl:10,className:"mx-auto",children:[Object(A.jsx)("div",{className:Ye.a.CardBlock,children:Object(A.jsxs)(Q.a,{className:Ye.a.StatusCard,children:[Object(A.jsx)("p",{className:Ye.a.DashboardHeadings,children:"Dashboard"}),Object(A.jsxs)("div",{className:"row ".concat(Ye.a.StatusBlock),children:[Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Ye.a.CardPointer," ").concat("Pending"===q?Ye.a.PendingBorder:""),onClick:function(){B("Pending"),G("Pending")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Ye.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-bell-concierge ".concat(Ye.a.PendingIcon)}),Object(A.jsx)("div",{className:Ye.a.Title,children:"Pending"}),Object(A.jsx)("div",{className:Ye.a.Title,children:N.Pending||"0"})]})}),Object(A.jsx)("div",{className:Ye.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){B("Pending"),G("Pending")},variant:"outline-danger",size:"sm",children:"Set to Pending"})})]}),Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Ye.a.CardPointer," ").concat("Invoiced"===q?Ye.a.InvoicedBorder:""),onClick:function(){B("Invoiced"),G("Invoiced")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Ye.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-hourglass-half ".concat(Ye.a.InvoicedIcon)}),Object(A.jsx)("div",{className:Ye.a.Title,children:"Invoiced"}),Object(A.jsx)("div",{className:Ye.a.Title,children:N.Invoiced||"0"})]})}),Object(A.jsx)("div",{className:Ye.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){B("Invoiced"),G("Invoiced")},variant:"outline-warning",size:"sm",children:"Set to Invoiced"})})]}),Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("div",{className:"card ".concat(Ye.a.CardPointer," ").concat("Paid"===q?Ye.a.PaidBorder:""),onClick:function(){B("Paid"),G("Paid")},children:Object(A.jsxs)("div",{className:"card-body text-center ".concat(Ye.a.StatusIconContainer),children:[Object(A.jsx)("i",{className:"fa-solid fa-hourglass-half ".concat(Ye.a.PaidIcon)}),Object(A.jsx)("div",{className:Ye.a.Title,children:"Paid"}),Object(A.jsx)("div",{className:Ye.a.Title,children:N.Paid||"0"})]})}),Object(A.jsx)("div",{className:Ye.a.SelectorButton,children:Object(A.jsx)(T.a,{onClick:function(){B("Paid"),G("Paid")},variant:"outline-success",size:"sm",children:"Set to Paid"})})]})]}),Object(A.jsx)("p",{className:"text-md-end ".concat(Ye.a.DashboardHeadings),children:"Order by:"}),Object(A.jsxs)("div",{className:"row ".concat(Ye.a.OrderBySection),children:[Object(A.jsx)("div",{className:"col-md-4 ".concat(Ye.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return V("-created_at")},variant:"outline-info",size:"sm",children:"Recently Created"})}),Object(A.jsx)("div",{className:"col-md-4 ".concat(Ye.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return V("-updated_at")},variant:"outline-info",size:"sm",children:"Recently Updated"})}),Object(A.jsx)("div",{className:"col-md-4 ".concat(Ye.a.OrderByBtnContainers),children:Object(A.jsx)(T.a,{onClick:function(){return V("due_date")},variant:"outline-info",size:"sm",children:"Due Date"})})]}),Object(A.jsx)("p",{className:"text-md-end ".concat(Ye.a.DashboardHeadings),children:"Keyword search:"}),Object(A.jsxs)("div",{className:Ye.a.SearchBarContainer,children:[Object(A.jsx)("i",{className:"fas fa-search ".concat(Ye.a.SearchIcon)}),Object(A.jsxs)(R.a,{className:Ye.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:[Object(A.jsx)(R.a.Control,{type:"text",className:"mr-sm-2",placeholder:"Search jobs",value:k,onChange:function(e){return B(e.target.value)}}),k&&Object(A.jsx)("div",{className:Ye.a.ClearSearchButton,onClick:function(){B("")},children:Object(A.jsx)("i",{className:"fa-regular fa-circle-xmark"})})]})]})]})}),p?Object(A.jsx)(A.Fragment,{children:null!==(e=r.results)&&void 0!==e&&e.length?Object(A.jsx)(ye.a,{children:r.results.map((function(e){var t=u.find((function(t){return t.id===e.job_id}));return Object(A.jsx)(Ve,Object(C.a)(Object(C.a)({},e),{},{jobId:null===t||void 0===t?void 0:t.id,jobType:null===t||void 0===t?void 0:t.job_type,jobStatus:null===t||void 0===t?void 0:t.status,setInvoices:s}),e.inv_id)})),dataLength:r.results.length,loader:Object(A.jsx)(Ie,{spinner:!0}),hasMore:!!r.next,next:function(){return y(u,b)}}):Object(A.jsx)(Ie,{icon:"fa-solid fa-clipboard-question",message:"No Jobs to display"})}):Object(A.jsx)(Ie,{spinner:!0,message:"loading jobs"})]}),Object(A.jsx)("div",{children:Object(A.jsx)(De,{})})]})},Xe=a(81),Ze=a.n(Xe),$e=function(e){var t=e.text;return Object(A.jsx)("div",{className:Ze.a.FixedHeader,children:Object(A.jsx)(j.a,{className:Ze.a.ContainerBorder,children:Object(A.jsx)("div",{xs:12,sm:12,md:10,lg:10,xl:10,children:Object(A.jsx)("h1",{children:t})})})})},et=a(96),tt=a.n(et),at=function(){return Object(A.jsxs)("footer",{className:tt.a.Footer,children:[Object(A.jsx)("div",{children:"\xa9 2023 Russell Smith"}),Object(A.jsx)("div",{children:Object(A.jsx)("a",{href:"https://www.linkedin.com/in/russellstanleysmith/",target:"_blank",rel:"noopener noreferrer",children:Object(A.jsx)("i",{className:"fa-brands fa-linkedin"})})}),Object(A.jsx)("div",{children:Object(A.jsx)("a",{href:"https://github.com/rstan-dev",target:"_blank",rel:"noopener noreferrer",children:Object(A.jsx)("i",{className:"fa-brands fa-square-github"})})})]})};var nt=function(){var e=P(),t=(null===e||void 0===e?void 0:e.username)||"";return e?Object(A.jsxs)("div",{className:i.a.App,children:[Object(A.jsx)(F,{}),Object(A.jsx)(j.a,{className:i.a.Content,children:Object(A.jsxs)(x.c,{children:[Object(A.jsx)(x.a,{exact:!0,path:"/jobs/addjob",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Add Job"}),Object(A.jsx)(ue,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing All Jobs"}),Object(A.jsx)(Le,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/myjobs",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing My Jobs - created by me"}),e?Object(A.jsx)(Le,{filter:"owner__username=".concat(t,"&")}):Object(A.jsx)(Ie,{spinner:!0,message:"loading jobs"})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/assigned",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Assigned Jobs - assigned to me"}),e?Object(A.jsx)(Le,{filter:"assigned_to__username=".concat(t,"&")}):Object(A.jsx)(Ie,{spinner:!0,message:"loading jobs"})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/watched",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Watched Jobs - watched by me"}),e?Object(A.jsx)(Le,{filter:"watched_by=".concat(e.pk,"&"),isWatchedJobsPage:!0}):Object(A.jsx)(Ie,{spinner:!0,message:"loading jobs"})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/jobs/:id",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Job"}),Object(A.jsx)(Be,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/jobs/:id/edit-job",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Edit Job"}),Object(A.jsx)(Re,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/all-invoices",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing All Invoices"}),Object(A.jsx)(ze,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/invoices/addinvoice",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Add Invoice"}),Object(A.jsx)(qe,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/invoices/:id/edit-invoice",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Edit Invoice"}),Object(A.jsx)(Qe,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/invoices/:id",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Invoice"}),Object(A.jsx)(He,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/profile/:id",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Profile"}),Object(A.jsx)(Z,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/profile/:id/edit-profile",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Edit Profile"}),Object(A.jsx)(re,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/profile/:id/change-password",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Change Password"}),Object(A.jsx)(oe,{})]})}}),Object(A.jsx)(x.a,{exact:!0,path:"/profile/:id/change-username",render:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($e,{text:"Viewing Change Username"}),Object(A.jsx)(le,{})]})}}),Object(A.jsx)(x.a,{render:function(){return Object(A.jsx)(U,{})}})]})})]}):Object(A.jsxs)("div",{className:i.a.App,children:[Object(A.jsx)(F,{}),Object(A.jsx)(j.a,{className:i.a.Content,children:Object(A.jsxs)(x.c,{children:[Object(A.jsx)(x.a,{exact:!0,path:"/login",render:function(){return Object(A.jsx)(H,{})}}),Object(A.jsx)(x.a,{exact:!0,path:"/register",render:function(){return Object(A.jsx)(W,{})}}),Object(A.jsx)(x.a,{render:function(){return Object(A.jsx)(H,{})}})]})}),Object(A.jsx)(at,{})]})},ct=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,137)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};r.a.render(Object(A.jsx)(O.a,{children:Object(A.jsx)(E,{children:Object(A.jsx)(nt,{})})}),document.getElementById("root")),ct()},16:function(e,t,a){e.exports={DashboardHeadings:"AllJobsPage_DashboardHeadings__2onYa",Title:"AllJobsPage_Title__2kzM0",AllJobsContainer:"AllJobsPage_AllJobsContainer__2D1YS",CardBlock:"AllJobsPage_CardBlock__3eeWR",StatusCard:"AllJobsPage_StatusCard__2UTQh",StatusBlock:"AllJobsPage_StatusBlock__lilYc",StatusIconContainer:"AllJobsPage_StatusIconContainer__2ybjd",CardPointer:"AllJobsPage_CardPointer__12Mgb",PendingIcon:"AllJobsPage_PendingIcon__1nlGn",PendingBorder:"AllJobsPage_PendingBorder__2W8PP",UnderwayIcon:"AllJobsPage_UnderwayIcon__1vRO4",UnderwayBorder:"AllJobsPage_UnderwayBorder__2QGRt",CompletedIcon:"AllJobsPage_CompletedIcon__3SEUw",CompletedBorder:"AllJobsPage_CompletedBorder__1sd6n",SelectorButton:"AllJobsPage_SelectorButton__FHVF0",OrderBySection:"AllJobsPage_OrderBySection__1l3Z5",OrderByBtnContainers:"AllJobsPage_OrderByBtnContainers__c1sYP",SearchBarContainer:"AllJobsPage_SearchBarContainer__3LyfS",SearchBar:"AllJobsPage_SearchBar__1AC9Y",SearchIcon:"AllJobsPage_SearchIcon__2i6Ji",ClearSearchButton:"AllJobsPage_ClearSearchButton__3fPO5"}},17:function(e,t,a){e.exports={DashboardHeadings:"AllInvoicesPage_DashboardHeadings__206dM",Title:"AllInvoicesPage_Title__1OjbN",AllInvoicesContainer:"AllInvoicesPage_AllInvoicesContainer__2Xrso",CardBlock:"AllInvoicesPage_CardBlock__kJUxe",StatusCard:"AllInvoicesPage_StatusCard__2lKZk",StatusBlock:"AllInvoicesPage_StatusBlock__1jeNR",StatusIconContainer:"AllInvoicesPage_StatusIconContainer__3TsRz",CardPointer:"AllInvoicesPage_CardPointer__2HoCc",PendingIcon:"AllInvoicesPage_PendingIcon__vG5em",PendingBorder:"AllInvoicesPage_PendingBorder__2YX3_",InvoicedIcon:"AllInvoicesPage_InvoicedIcon__P-8OK",InvoicedBorder:"AllInvoicesPage_InvoicedBorder__PoW8L",PaidIcon:"AllInvoicesPage_PaidIcon__3a1PN",PaidBorder:"AllInvoicesPage_PaidBorder__2jrc0",SelectorButton:"AllInvoicesPage_SelectorButton__Ibje2",OrderBySection:"AllInvoicesPage_OrderBySection__1nFM5",OrderByBtnContainers:"AllInvoicesPage_OrderByBtnContainers__3vodm",SearchBarContainer:"AllInvoicesPage_SearchBarContainer__pRvIS",SearchBar:"AllInvoicesPage_SearchBar__3NhFR",SearchIcon:"AllInvoicesPage_SearchIcon__2ynsp",ClearSearchButton:"AllInvoicesPage_ClearSearchButton__2Q7hO"}},18:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLinks:"NavBar_NavLinks__1uUbj",Active:"NavBar_Active__3PBZb",AddJobIcon:"NavBar_AddJobIcon__1x-vN",Label:"NavBar_Label__3WNiU",Username:"NavBar_Username__3op-1",NavbarCollapse:"NavBar_NavbarCollapse__1DoC4"}},19:function(e,t,a){e.exports={AddEditJobForm:"AddEditJob_AddEditJobForm__1Vsbe",CardBlock:"AddEditJob_CardBlock__3oqVY",FormCard:"AddEditJob_FormCard__1qpK2",AddJobIcon:"AddEditJob_AddJobIcon__2xMBH",FormControl:"AddEditJob_FormControl__4_qJj",BtnSection:"AddEditJob_BtnSection__12_cE",BtnContainer:"AddEditJob_BtnContainer__3N9YF",Image:"AddEditJob_Image__1mRIT",ImageUploadContainer:"AddEditJob_ImageUploadContainer__1lNiz",UploadIcon:"AddEditJob_UploadIcon__2FygQ",ImageUpload:"AddEditJob_ImageUpload__3hVfb",SuccessMessage:"AddEditJob_SuccessMessage__242q1"}},20:function(e,t,a){e.exports={AddEditInvoiceForm:"AddEditInvoice_AddEditInvoiceForm__3oQb3",CardBlock:"AddEditInvoice_CardBlock__GvJ0x",FormCard:"AddEditInvoice_FormCard__34g4L",AddEditInvoiceIcon:"AddEditInvoice_AddEditInvoiceIcon__1SAOj",FormControl:"AddEditInvoice_FormControl__3Tz8w",BtnSection:"AddEditInvoice_BtnSection__3BX4x",BtnContainer:"AddEditInvoice_BtnContainer__1YCCN",SuccessMessage:"AddEditInvoice_SuccessMessage__2x2cD"}},24:function(e,t,a){e.exports={LoginRegisterForm:"LoginRegister_LoginRegisterForm__3wdtl",CardBlock:"LoginRegister_CardBlock__1Zmf_",FormCard:"LoginRegister_FormCard__qxsX_",LoginRegisterIcon:"LoginRegister_LoginRegisterIcon__2s5sM",Intro:"LoginRegister_Intro__3iq97",FormControl:"LoginRegister_FormControl__1mMLl",BtnSection:"LoginRegister_BtnSection__1ylg4",BtnContainer:"LoginRegister_BtnContainer__1pXhh",FullWidthLink:"LoginRegister_FullWidthLink__3eWW_",LoginRegisterSection:"LoginRegister_LoginRegisterSection__1YSXR",SuccessMessage:"LoginRegister_SuccessMessage__1f9f3"}},26:function(e,t,a){e.exports={CardBody:"AddEditComment_CardBody__3h1v4",CommentArea:"AddEditComment_CommentArea__2Z2uv",ReplyCommentArea:"AddEditComment_ReplyCommentArea__4KkgP",ProfileSection:"AddEditComment_ProfileSection__38Dia",ProfileName:"AddEditComment_ProfileName__OwRL-",ProfileImage:"AddEditComment_ProfileImage__3evdo",FormControl:"AddEditComment_FormControl__YUyr7",SubmitButton:"AddEditComment_SubmitButton__1-uvC",ButtonSpacing:"AddEditComment_ButtonSpacing__18bpw",SuccessMessage:"AddEditComment_SuccessMessage__32du0"}},29:function(e,t,a){e.exports={JobCard:"JobCard_JobCard__oJv64",CardBlock:"JobCard_CardBlock__3MN-y",JobCardHeaderContainer:"JobCard_JobCardHeaderContainer__2wTQc",JobCardHeader:"JobCard_JobCardHeader__1CcD1",DisabledJobEditButton:"JobCard_DisabledJobEditButton__1EoCF",JobImageContainer:"JobCard_JobImageContainer__6jYFg",JobImage:"JobCard_JobImage__3PJ8f",CommentWatchContainer:"JobCard_CommentWatchContainer__CqGUj",CommentBubbleActive:"JobCard_CommentBubbleActive__3FhjP",CommentBubbleGrey:"JobCard_CommentBubbleGrey__1NUf-",EyeUnwatched:"JobCard_EyeUnwatched__2TDuB",EyeWatched:"JobCard_EyeWatched__2Y1pX",AddInvoiceContainer:"JobCard_AddInvoiceContainer__3ExE5",FullWidthLink:"JobCard_FullWidthLink__HybJb",DisabledButton:"JobCard_DisabledButton__1mUtm",InvoiceButtonContainer:"JobCard_InvoiceButtonContainer__2VB7Y",CenteredToggle:"JobCard_CenteredToggle__N53ik",ViewInvoiceLink:"JobCard_ViewInvoiceLink__jkZwv",DisplayAddEditViewInvoice:"JobCard_DisplayAddEditViewInvoice__AmW2d"}},33:function(e,t,a){e.exports={ProfileForm:"ChangeUsernamePassword_ProfileForm__1dDje",CardBlock:"ChangeUsernamePassword_CardBlock__yued1",FormCard:"ChangeUsernamePassword_FormCard__iJgKF",EditIcon:"ChangeUsernamePassword_EditIcon__1L8nX",FormControl:"ChangeUsernamePassword_FormControl__l8Dw-",BtnContainer:"ChangeUsernamePassword_BtnContainer__1xxrN"}},34:function(e,t,a){e.exports={ProfileSection:"CommentSection_ProfileSection__1lDz3",ProfileName:"CommentSection_ProfileName__2P-Hp",ProfileImage:"CommentSection_ProfileImage__dqWQ-",CommentUpdated:"CommentSection_CommentUpdated__3t_eg",CommentSection:"CommentSection_CommentSection__2v4Dt",CommentDetail:"CommentSection_CommentDetail__1T2_i",ReplyHeader:"CommentSection_ReplyHeader__2HC7n",NoReplyLink:"CommentSection_NoReplyLink__2bbbu",ReplyAccordionHeader:"CommentSection_ReplyAccordionHeader__ogRp6",ReplyProfileSection:"CommentSection_ReplyProfileSection__1pSlf",ReplyProfileName:"CommentSection_ReplyProfileName__kDOg4",ReplyCommentUpdated:"CommentSection_ReplyCommentUpdated__2lxpy",ReplyCommentSection:"CommentSection_ReplyCommentSection__36eB_",ReplyCommentDetail:"CommentSection_ReplyCommentDetail__2DtdK"}},40:function(e,t,a){e.exports={EditProfileForm:"EditProfile_EditProfileForm__3jdGS",CardBlock:"EditProfile_CardBlock__26ubW",FormCard:"EditProfile_FormCard__wavdp",EditProfileIcon:"EditProfile_EditProfileIcon__ywSjv",FormControl:"EditProfile_FormControl__3gl74",ImageUploadContainer:"EditProfile_ImageUploadContainer__1L5Ws",UploadIcon:"EditProfile_UploadIcon__1WwOb",BtnSection:"EditProfile_BtnSection__36UpK",BtnContainer:"EditProfile_BtnContainer__2tH1F",SuccessMessage:"EditProfile_SuccessMessage__2QKyq"}},45:function(e,t,a){e.exports={ProfileForm:"ProfilePage_ProfileForm__3Uoje",CardBlock:"ProfilePage_CardBlock__2hejJ",FormCard:"ProfilePage_FormCard__1eDh6",ProfileIcon:"ProfilePage_ProfileIcon__3zudc",ImageContainer:"ProfilePage_ImageContainer__1CeBW",ProfileImage:"ProfilePage_ProfileImage__7dvRw",BtnContainer:"ProfilePage_BtnContainer__2hIes"}},48:function(e,t,a){e.exports={CardBlock:"InvoiceCard_CardBlock__21538",InvoiceCardHeaderContainer:"InvoiceCard_InvoiceCardHeaderContainer__1Av6B",InvoiceCardHeader:"InvoiceCard_InvoiceCardHeader__1_TJV",DisabledInvoiceEditButton:"InvoiceCard_DisabledInvoiceEditButton__2yjba",JobButtonContainer:"InvoiceCard_JobButtonContainer__3bHxW",DisabledButton:"InvoiceCard_DisabledButton__3B9oA",CenteredToggle:"InvoiceCard_CenteredToggle__eMwlH",ViewJobSummaryLink:"InvoiceCard_ViewJobSummaryLink__36cjl"}},63:function(e,t,a){e.exports={App:"App_App__16ZpL",Content:"App_Content__ZaMNr"}},64:function(e,t,a){e.exports={CommentTitle:"JobPage_CommentTitle__2lc8f",NoCommentsSection:"JobPage_NoCommentsSection__2qEGR"}},80:function(e,t,a){e.exports={CenteredModal:"ConfirmationModal_CenteredModal__1vnWw","modal-dialog":"ConfirmationModal_modal-dialog__2k2Hi",ModalTitle:"ConfirmationModal_ModalTitle__3Gk70"}},81:function(e,t,a){e.exports={FixedHeader:"FixedHeader_FixedHeader__1UlPi",card:"FixedHeader_card__1RtI1"}},94:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}},95:function(e,t,a){e.exports={UpArrowButton:"BackToTop_UpArrowButton__3myNg"}},96:function(e,t,a){e.exports={Footer:"Footer_Footer__9Y8xx"}}},[[131,1,2]]]);
//# sourceMappingURL=main.5fd12f48.chunk.js.map